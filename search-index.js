crystal_doc_search_index_callback({"repository_name":"github.com/mikeroher/algo-backtest","body":"[![Build Status](https://travis-ci.org/mikeroher/algo-backtest.svg?branch=master)](https://travis-ci.org/mikeroher/algo-backtest)\n\n# Tree-Based Algorithmic Backtester\n\nA modular, tree-based algorithmic backtester. The backtester is event-driven, has a historical stock price downloader via Tiingo's API and integrates with TA-Lib to integrate technical analysis into strategies. \n\n## Installation\n\nAdd `algo-backtester` to your `shards.yml`.\n\n### TA-Lib\n\nTo use the TA-Lib integration, you need to have the [TA-Lib](http://ta-lib.org/hdr_dw.html) already installed. You should\nprobably follow their installation directions for your platform, but some\nsuggestions are included below for reference.\n\n##### Mac OS X\n\n```\n$ brew install ta-lib\n```\n\n##### Windows\n\nDownload [ta-lib-0.4.0-msvc.zip](http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-msvc.zip)\nand unzip to ``C:\\ta-lib``.\n\n> This is a 32-bit binary release.  If you want to use 64-bit Python, you will\n> need to build a 64-bit version of the library. Some unofficial (**and\n> unsupported**) instructions for building on 64-bit Windows 10, here for\n> reference:\n>\n> 1. Download and Unzip ``ta-lib-0.4.0-msvc.zip``\n> 2. Move the Unzipped Folder ``ta-lib`` to ``C:\\``\n> 3. Download and Install Visual Studio Community 2015\n>    * Remember to Select ``[Visual C++]`` Feature\n> 4. Build TA-Lib Library\n>    * From Windows Start Menu, Start ``[VS2015 x64 Native Tools Command\n>      Prompt]``\n>    * Move to ``C:\\ta-lib\\c\\make\\cdr\\win32\\msvc``\n>    * Build the Library ``nmake``\n\nYou might also try these unofficial windows binaries for both 32-bit and\n64-bit:\n\nhttps://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib\n\n##### Linux\n\nDownload [ta-lib-0.4.0-src.tar.gz](http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-src.tar.gz) and:\n\n```\n$ tar -xzf ta-lib-0.4.0-src.tar.gz\n$ cd ta-lib/\n$ ./configure --prefix=/usr\n$ make\n$ sudo make install\n```\n\n> If you build ``TA-Lib`` using ``make -jX`` it will fail but that's OK!\n> Simply rerun ``make -jX`` followed by ``[sudo] make install``.\n\n## Dependencies\n\n+ TA-Lib\n+ Crystal dependencies (installed automatically via `shards install`):\n    + `VCR` (for caching API requests)\n    + `halite` (HTTP requests)\n    + `crystal_talib`  (TA-Lib C bindings)\n\n\n## Usage\n\n```crystal\nrequire 'algo-backtester'\n\n\n  bars = TiingoDataDownloader.new.query(\"AAPL\", 3.months.ago, Time.now)\n\n  data = DataHandler.new(stream: bars)\n\n  strategy = Strategy.new(\"buy_and_hold\")\n  strategy.set_algo(\n    RunMonthlyAlgorithm.new,\n    SignalAlgorithm.new(direction: :buy)\n  )\n  strategy.add_child Asset.new(\"AAPL\")\n\n  backtest = Backtest.new(initial_cash: 1000.0_f64, data: data, strategy: strategy)\n\n  backtest.run\n\n  backtest.statistics.print_summary\n```\n\n## Alternatives\n\n+ [pmorissette's bt Python library](https://github.com/pmorissette/bt)\n+ [dirk olbrich's gobacktest Golang package](https://github.com/dirkolbrich/gobacktest)\n\n\n## TODO\n\n- [ ] Add more specs (currently specs exist for non-algorithm classes/structs; need to extend to Algorithms)\n- [ ] Add better documentation\n- [ ] Add algorithms for more TA-Lib functions (currently just shows SMA as a prototype)\n- [ ] Compute + print more statistics (currently only shows Sharpe, Sortino and Cumulative Return)\n\n## Contributing\n\n1. Fork it (<https://github.com/mikeroher/algo-backtester/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Acknowledgements\n\n+ TA Lib Installation instructions from [mrjbq7/ta-lib Python Library](https://github.com/mrjbq7/ta-lib/blob/master/README.md)\n+ Implementation inspired by the two alternatives listed above.\n\n","program":{"html_id":"github.com/mikeroher/algo-backtest/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/VCR/Methods","kind":"module","full_name":"VCR::Methods","name":"Methods"}],"locations":[],"repository_name":"github.com/mikeroher/algo-backtest","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/mikeroher/algo-backtest/VCR/Methods","kind":"module","full_name":"VCR::Methods","name":"Methods"}],"extended_modules":[{"html_id":"github.com/mikeroher/algo-backtest/VCR/Methods","kind":"module","full_name":"VCR::Methods","name":"Methods"}],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","path":"AlgoBacktester.html","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader","kind":"module","full_name":"AlgoBacktester::DataDownloader","name":"DataDownloader"}],"locations":[{"filename":"data_downloader/abstract_data_downloader.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/abstract_data_downloader.cr"},{"filename":"engine/backtest/backtest.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr"},{"filename":"engine/backtest/data_handler.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr"},{"filename":"engine/event/abstract_event.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/abstract_event.cr"},{"filename":"engine/portfolio/abstract_portfolio.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr"},{"filename":"engine/portfolio/portfolio.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr"},{"filename":"engine/portfolio/position.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr"},{"filename":"engine/portfolio/size_handler.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/size_handler.cr"},{"filename":"engine/portfolio/statistic_handler.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr"},{"filename":"util/errors.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/errors.cr"},{"filename":"algo-backtester.cr","line_number":10,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/algo-backtester.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.1.0\"","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader","kind":"module","full_name":"AlgoBacktester::DataDownloader","name":"DataDownloader"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"# TODO: Write documentation for `AlgoBacktester`","summary":"<h1>TODO: Write documentation for <code><a href=\"AlgoBacktester.html\">AlgoBacktester</a></code></h1>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/AbstractPortfolio","path":"AlgoBacktester/AbstractPortfolio.html","kind":"class","full_name":"AlgoBacktester::AbstractPortfolio","name":"AbstractPortfolio","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/portfolio/abstract_portfolio.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Portfolio","kind":"class","full_name":"AlgoBacktester::Portfolio","name":"Portfolio"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(initial_cash)-class-method","html_id":"new(initial_cash)-class-method","name":"new","doc":"As this is an abstract class, this method will\nnever be called but without it, we run into an issue\nwhere the initialize does not include all instance variables","summary":"<p>As this is an abstract class, this method will never be called but without it, we run into an issue where the initialize does not include all instance variables</p>","abstract":false,"args":[{"name":"initial_cash","doc":null,"default_value":"","external_name":"initial_cash","restriction":""}],"args_string":"(initial_cash)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L9","def":{"name":"new","args":[{"name":"initial_cash","doc":null,"default_value":"","external_name":"initial_cash","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(initial_cash)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"cash:Float64-instance-method","html_id":"cash:Float64-instance-method","name":"cash","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L6","def":{"name":"cash","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@cash"}},{"id":"cash=(cash:Float64)-instance-method","html_id":"cash=(cash:Float64)-instance-method","name":"cash=","doc":null,"summary":null,"abstract":false,"args":[{"name":"cash","doc":null,"default_value":"","external_name":"cash","restriction":"Float64"}],"args_string":"(cash : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L10","def":{"name":"cash=","args":[{"name":"cash","doc":null,"default_value":"","external_name":"cash","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cash = cash"}},{"id":"initial_cash:Float64-instance-method","html_id":"initial_cash:Float64-instance-method","name":"initial_cash","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L5","def":{"name":"initial_cash","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@initial_cash"}},{"id":"initial_cash=(initial_cash:Float64)-instance-method","html_id":"initial_cash=(initial_cash:Float64)-instance-method","name":"initial_cash=","doc":null,"summary":null,"abstract":false,"args":[{"name":"initial_cash","doc":null,"default_value":"","external_name":"initial_cash","restriction":"Float64"}],"args_string":"(initial_cash : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L9","def":{"name":"initial_cash=","args":[{"name":"initial_cash","doc":null,"default_value":"","external_name":"initial_cash","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@initial_cash = initial_cash"}},{"id":"is_invested(symbol:String):Position?-instance-method","html_id":"is_invested(symbol:String):Position?-instance-method","name":"is_invested","doc":null,"summary":null,"abstract":true,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String) : Position?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L15","def":{"name":"is_invested","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Position | ::Nil","visibility":"Public","body":""}},{"id":"is_long(symbol:String):Position?-instance-method","html_id":"is_long(symbol:String):Position?-instance-method","name":"is_long","doc":null,"summary":null,"abstract":true,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String) : Position?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L16","def":{"name":"is_long","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Position | ::Nil","visibility":"Public","body":""}},{"id":"is_short(symbol:String):Position?-instance-method","html_id":"is_short(symbol:String):Position?-instance-method","name":"is_short","doc":null,"summary":null,"abstract":true,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String) : Position?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L17","def":{"name":"is_short","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Position | ::Nil","visibility":"Public","body":""}},{"id":"on_fill(fill:FillEvent,data_handler:DataHandler)-instance-method","html_id":"on_fill(fill:FillEvent,data_handler:DataHandler)-instance-method","name":"on_fill","doc":null,"summary":null,"abstract":true,"args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"},{"name":"data_handler","doc":null,"default_value":"","external_name":"data_handler","restriction":"DataHandler"}],"args_string":"(fill : FillEvent, data_handler : DataHandler)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L14","def":{"name":"on_fill","args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"},{"name":"data_handler","doc":null,"default_value":"","external_name":"data_handler","restriction":"DataHandler"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"on_signal(signal:SignalEvent,data_handler:DataHandler)-instance-method","html_id":"on_signal(signal:SignalEvent,data_handler:DataHandler)-instance-method","name":"on_signal","doc":null,"summary":null,"abstract":true,"args":[{"name":"signal","doc":null,"default_value":"","external_name":"signal","restriction":"SignalEvent"},{"name":"data_handler","doc":null,"default_value":"","external_name":"data_handler","restriction":"DataHandler"}],"args_string":"(signal : SignalEvent, data_handler : DataHandler)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L13","def":{"name":"on_signal","args":[{"name":"signal","doc":null,"default_value":"","external_name":"signal","restriction":"SignalEvent"},{"name":"data_handler","doc":null,"default_value":"","external_name":"data_handler","restriction":"DataHandler"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"reset!-instance-method","html_id":"reset!-instance-method","name":"reset!","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L19","def":{"name":"reset!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"update!(bar:Bar)-instance-method","html_id":"update!(bar:Bar)-instance-method","name":"update!","doc":null,"summary":null,"abstract":true,"args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"}],"args_string":"(bar : Bar)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L18","def":{"name":"update!","args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"value:Float64-instance-method","html_id":"value:Float64-instance-method","name":"value","doc":null,"summary":null,"abstract":true,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/abstract_portfolio.cr#L20","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Backtest","path":"AlgoBacktester/Backtest.html","kind":"class","full_name":"AlgoBacktester::Backtest","name":"Backtest","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/backtest/backtest.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"PRINT_TITLE_BORDER_WIDTH","name":"PRINT_TITLE_BORDER_WIDTH","value":"25","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(data,strategy,initial_cash:Float64,exchange=Exchange.new(symbol:&quot;MIKE&quot;,commission:PercentageCommission.new(0.01),exchange_fee:FixedExchangeFee.new(0_f64)))-class-method","html_id":"new(data,strategy,initial_cash:Float64,exchange=Exchange.new(symbol:&amp;quot;MIKE&amp;quot;,commission:PercentageCommission.new(0.01),exchange_fee:FixedExchangeFee.new(0_f64)))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":""},{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":""},{"name":"initial_cash","doc":null,"default_value":"","external_name":"initial_cash","restriction":"Float64"},{"name":"exchange","doc":null,"default_value":"Exchange.new(symbol: \"MIKE\", commission: PercentageCommission.new(0.01), exchange_fee: FixedExchangeFee.new(0_f64))","external_name":"exchange","restriction":""}],"args_string":"(data, strategy, initial_cash : Float64, exchange = <span class=\"t\">Exchange</span>.<span class=\"k\">new</span>(symbol: <span class=\"s\">&quot;MIKE&quot;</span>, commission: <span class=\"t\">PercentageCommission</span>.<span class=\"k\">new</span>(<span class=\"n\">0.01</span>), exchange_fee: <span class=\"t\">FixedExchangeFee</span>.<span class=\"k\">new</span>(<span class=\"n\">0_f64</span>)))","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L12","def":{"name":"new","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":""},{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":""},{"name":"initial_cash","doc":null,"default_value":"","external_name":"initial_cash","restriction":"Float64"},{"name":"exchange","doc":null,"default_value":"Exchange.new(symbol: \"MIKE\", commission: PercentageCommission.new(0.01), exchange_fee: FixedExchangeFee.new(0_f64))","external_name":"exchange","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(data, strategy, initial_cash, exchange)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"data:DataHandler-instance-method","html_id":"data:DataHandler-instance-method","name":"data","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : DataHandler","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L5","def":{"name":"data","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"DataHandler","visibility":"Public","body":"@data"}},{"id":"data=(data:DataHandler)-instance-method","html_id":"data=(data:DataHandler)-instance-method","name":"data=","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"DataHandler"}],"args_string":"(data : DataHandler)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L9","def":{"name":"data=","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"DataHandler"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data = data"}},{"id":"event_queue:Array(AbstractEvent)-instance-method","html_id":"event_queue:Array(AbstractEvent)-instance-method","name":"event_queue","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(AbstractEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L10","def":{"name":"event_queue","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(AbstractEvent)","visibility":"Public","body":"@event_queue"}},{"id":"event_queue=(event_queue:Array(AbstractEvent))-instance-method","html_id":"event_queue=(event_queue:Array(AbstractEvent))-instance-method","name":"event_queue=","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_queue","doc":null,"default_value":"","external_name":"event_queue","restriction":"Array(AbstractEvent)"}],"args_string":"(event_queue : Array(AbstractEvent))","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L14","def":{"name":"event_queue=","args":[{"name":"event_queue","doc":null,"default_value":"","external_name":"event_queue","restriction":"Array(AbstractEvent)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@event_queue = event_queue"}},{"id":"exchange:AbstractExchange-instance-method","html_id":"exchange:AbstractExchange-instance-method","name":"exchange","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AbstractExchange","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L8","def":{"name":"exchange","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AbstractExchange","visibility":"Public","body":"@exchange"}},{"id":"exchange=(exchange:AbstractExchange)-instance-method","html_id":"exchange=(exchange:AbstractExchange)-instance-method","name":"exchange=","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"AbstractExchange"}],"args_string":"(exchange : AbstractExchange)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L12","def":{"name":"exchange=","args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"AbstractExchange"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@exchange = exchange"}},{"id":"portfolio:AbstractPortfolio-instance-method","html_id":"portfolio:AbstractPortfolio-instance-method","name":"portfolio","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AbstractPortfolio","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L7","def":{"name":"portfolio","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AbstractPortfolio","visibility":"Public","body":"@portfolio"}},{"id":"portfolio=(portfolio:AbstractPortfolio)-instance-method","html_id":"portfolio=(portfolio:AbstractPortfolio)-instance-method","name":"portfolio=","doc":null,"summary":null,"abstract":false,"args":[{"name":"portfolio","doc":null,"default_value":"","external_name":"portfolio","restriction":"AbstractPortfolio"}],"args_string":"(portfolio : AbstractPortfolio)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L11","def":{"name":"portfolio=","args":[{"name":"portfolio","doc":null,"default_value":"","external_name":"portfolio","restriction":"AbstractPortfolio"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@portfolio = portfolio"}},{"id":"reset!-instance-method","html_id":"reset!-instance-method","name":"reset!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L36","def":{"name":"reset!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@event_queue = [] of AbstractEvent\n@data.reset!\n@portfolio.reset!\n@statistics.reset!\n"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L43","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"setup\nprint_title(\"Starting backtest....\")\nwhile true\n  if @event_queue.empty?\n    if @data.empty?\n      break\n    end\n    @event_queue << @data.next!\n  end\n  event = @event_queue.shift\n  puts(\"Processing: #{event.to_s}\")\n  process_event(event)\n  @statistics.track_event(event)\nend\nteardown\nprint_title(\"Ending backtest....\")\n"}},{"id":"setup-instance-method","html_id":"setup-instance-method","name":"setup","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L27","def":{"name":"setup","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@strategy.data = @data\n@strategy.portfolio = @portfolio\n"}},{"id":"statistics:StatisticHandler-instance-method","html_id":"statistics:StatisticHandler-instance-method","name":"statistics","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : StatisticHandler","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L9","def":{"name":"statistics","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"StatisticHandler","visibility":"Public","body":"@statistics"}},{"id":"statistics=(statistics:StatisticHandler)-instance-method","html_id":"statistics=(statistics:StatisticHandler)-instance-method","name":"statistics=","doc":null,"summary":null,"abstract":false,"args":[{"name":"statistics","doc":null,"default_value":"","external_name":"statistics","restriction":"StatisticHandler"}],"args_string":"(statistics : StatisticHandler)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L13","def":{"name":"statistics=","args":[{"name":"statistics","doc":null,"default_value":"","external_name":"statistics","restriction":"StatisticHandler"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@statistics = statistics"}},{"id":"strategy:AbstractStrategy-instance-method","html_id":"strategy:AbstractStrategy-instance-method","name":"strategy","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AbstractStrategy","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L6","def":{"name":"strategy","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AbstractStrategy","visibility":"Public","body":"@strategy"}},{"id":"strategy=(strategy:AbstractStrategy)-instance-method","html_id":"strategy=(strategy:AbstractStrategy)-instance-method","name":"strategy=","doc":null,"summary":null,"abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L10","def":{"name":"strategy=","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@strategy = strategy"}},{"id":"teardown-instance-method","html_id":"teardown-instance-method","name":"teardown","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/backtest.cr#L32","def":{"name":"teardown","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader","path":"AlgoBacktester/DataDownloader.html","kind":"module","full_name":"AlgoBacktester::DataDownloader","name":"DataDownloader","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"data_downloader/abstract_data_downloader.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/abstract_data_downloader.cr"},{"filename":"data_downloader/tiingo_data_downloader.cr","line_number":4,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/tiingo_data_downloader.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"}],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader/AbstractDataDownloader","path":"AlgoBacktester/DataDownloader/AbstractDataDownloader.html","kind":"class","full_name":"AlgoBacktester::DataDownloader::AbstractDataDownloader","name":"AbstractDataDownloader","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"data_downloader/abstract_data_downloader.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/abstract_data_downloader.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader/TiingoDataDownloader","kind":"class","full_name":"AlgoBacktester::DataDownloader::TiingoDataDownloader","name":"TiingoDataDownloader"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader","kind":"module","full_name":"AlgoBacktester::DataDownloader","name":"DataDownloader"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"query(symbol:String,start_date:Time,end_date:Time)-instance-method","html_id":"query(symbol:String,start_date:Time,end_date:Time)-instance-method","name":"query","doc":null,"summary":null,"abstract":true,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"},{"name":"start_date","doc":null,"default_value":"","external_name":"start_date","restriction":"Time"},{"name":"end_date","doc":null,"default_value":"","external_name":"end_date","restriction":"Time"}],"args_string":"(symbol : String, start_date : Time, end_date : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/abstract_data_downloader.cr#L3","def":{"name":"query","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"},{"name":"start_date","doc":null,"default_value":"","external_name":"start_date","restriction":"Time"},{"name":"end_date","doc":null,"default_value":"","external_name":"end_date","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"query(symbol:String)-instance-method","html_id":"query(symbol:String)-instance-method","name":"query","doc":null,"summary":null,"abstract":true,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/abstract_data_downloader.cr#L4","def":{"name":"query","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader/TiingoDataDownloader","path":"AlgoBacktester/DataDownloader/TiingoDataDownloader.html","kind":"class","full_name":"AlgoBacktester::DataDownloader::TiingoDataDownloader","name":"TiingoDataDownloader","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader/AbstractDataDownloader","kind":"class","full_name":"AlgoBacktester::DataDownloader::AbstractDataDownloader","name":"AbstractDataDownloader"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader/AbstractDataDownloader","kind":"class","full_name":"AlgoBacktester::DataDownloader::AbstractDataDownloader","name":"AbstractDataDownloader"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"data_downloader/tiingo_data_downloader.cr","line_number":5,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/tiingo_data_downloader.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"API_KEY","name":"API_KEY","value":"\"Token 21106ca2559b22a1ecd1492ed085cdef9f9698e4\"","doc":"Token word is required when passing as a parameter","summary":"<p>Token word is required when passing as a parameter</p>"},{"id":"BASE_URL","name":"BASE_URL","value":"\"https://api.tiingo.com/tiingo/daily\"","doc":null,"summary":null},{"id":"DATE_FORMAT","name":"DATE_FORMAT","value":"\"%Y-%m-%d\"","doc":"Date format used by Tiingo","summary":"<p>Date format used by Tiingo</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataDownloader","kind":"module","full_name":"AlgoBacktester::DataDownloader","name":"DataDownloader"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"query(symbol:String,start_date:Time,end_date:Time)-instance-method","html_id":"query(symbol:String,start_date:Time,end_date:Time)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"},{"name":"start_date","doc":null,"default_value":"","external_name":"start_date","restriction":"Time"},{"name":"end_date","doc":null,"default_value":"","external_name":"end_date","restriction":"Time"}],"args_string":"(symbol : String, start_date : Time, end_date : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/tiingo_data_downloader.cr#L32","def":{"name":"query","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"},{"name":"start_date","doc":null,"default_value":"","external_name":"start_date","restriction":"Time"},{"name":"end_date","doc":null,"default_value":"","external_name":"end_date","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"url = construct_url(symbol, start_date, end_date)\nresponse = Halite.get(url, headers: {\"accept\" => \"application/json\", \"Authorization\" => API_KEY})\njson = response.parse\nresponse_bars = Array(TiingoResponseBar).from_json(response.body)\nbars = [] of Bar\nresponse_bars.each do |rb|\n  bars << Bar.new(timestamp: rb.timestamp, symbol: symbol, adj_close: rb.adj_close, adj_high: rb.adj_high, adj_low: rb.adj_low, adj_open: rb.adj_open, adj_volume: rb.adj_volume, close: rb.close, div_cash: rb.div_cash, high: rb.high, low: rb.low, split_factor: rb.split_factor, volume: rb.volume, open: rb.open)\nend\nreturn bars\n"}},{"id":"query(symbol:String)-instance-method","html_id":"query(symbol:String)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/data_downloader/tiingo_data_downloader.cr#L57","def":{"name":"query","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return self.query(symbol, nil, nil)"}}],"macros":[],"types":[]}]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/DataHandler","path":"AlgoBacktester/DataHandler.html","kind":"class","full_name":"AlgoBacktester::DataHandler","name":"DataHandler","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/backtest/data_handler.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(latest=Hash(String,Bar).new,list=Hash(String,Array(Bar)).new,stream=[]ofBar,history=[]ofBar)-class-method","html_id":"new(latest=Hash(String,Bar).new,list=Hash(String,Array(Bar)).new,stream=[]ofBar,history=[]ofBar)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"latest","doc":null,"default_value":"Hash(String, Bar).new","external_name":"latest","restriction":""},{"name":"list","doc":null,"default_value":"Hash(String, Array(Bar)).new","external_name":"list","restriction":""},{"name":"stream","doc":null,"default_value":"[] of Bar","external_name":"stream","restriction":""},{"name":"history","doc":null,"default_value":"[] of Bar","external_name":"history","restriction":""}],"args_string":"(latest = <span class=\"t\">Hash</span>(<span class=\"t\">String</span>, <span class=\"t\">Bar</span>).<span class=\"k\">new</span>, list = <span class=\"t\">Hash</span>(<span class=\"t\">String</span>, <span class=\"t\">Array</span>(<span class=\"t\">Bar</span>)).<span class=\"k\">new</span>, stream = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Bar</span>, history = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Bar</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L6","def":{"name":"new","args":[{"name":"latest","doc":null,"default_value":"Hash(String, Bar).new","external_name":"latest","restriction":""},{"name":"list","doc":null,"default_value":"Hash(String, Array(Bar)).new","external_name":"list","restriction":""},{"name":"stream","doc":null,"default_value":"[] of Bar","external_name":"stream","restriction":""},{"name":"history","doc":null,"default_value":"[] of Bar","external_name":"history","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(latest, list, stream, history)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"empty?-instance-method","html_id":"empty?-instance-method","name":"empty?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L29","def":{"name":"empty?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return stream.empty?"}},{"id":"history:Array(Bar)-instance-method","html_id":"history:Array(Bar)-instance-method","name":"history","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Bar)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L6","def":{"name":"history","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Bar)","visibility":"Public","body":"@history"}},{"id":"history=(history:Array(Bar))-instance-method","html_id":"history=(history:Array(Bar))-instance-method","name":"history=","doc":null,"summary":null,"abstract":false,"args":[{"name":"history","doc":null,"default_value":"","external_name":"history","restriction":"Array(Bar)"}],"args_string":"(history : Array(Bar))","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L10","def":{"name":"history=","args":[{"name":"history","doc":null,"default_value":"","external_name":"history","restriction":"Array(Bar)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@history = history"}},{"id":"latest(symbol:String):Bar?-instance-method","html_id":"latest(symbol:String):Bar?-instance-method","name":"latest","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String) : Bar?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L33","def":{"name":"latest","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bar | ::Nil","visibility":"Public","body":"return @latest[symbol]?"}},{"id":"list(symbol:String):Array(Bar)?-instance-method","html_id":"list(symbol:String):Array(Bar)?-instance-method","name":"list","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String) : Array(Bar)?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L37","def":{"name":"list","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Bar) | ::Nil","visibility":"Public","body":"return @list[symbol]?"}},{"id":"next!:Bar-instance-method","html_id":"next!:Bar-instance-method","name":"next!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bar","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L12","def":{"name":"next!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bar","visibility":"Public","body":"if @stream.empty?\n  raise(EmptyDataHandlerError.new(\"Next called on an empty stream\"))\nend\ndh = @stream.shift\n@history << dh\nupdate_latest(dh)\nupdate_list(dh)\nreturn dh\n"}},{"id":"reset!-instance-method","html_id":"reset!-instance-method","name":"reset!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L41","def":{"name":"reset!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@latest = Hash(String, Bar).new\n@list = Hash(String, Array(Bar)).new\n@stream = history\n@history = [] of Bar\n"}},{"id":"sort_stream!-instance-method","html_id":"sort_stream!-instance-method","name":"sort_stream!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L48","def":{"name":"sort_stream!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@stream.sort! do |b1, b2|\n  if b1.timestamp == b2.timestamp\n    return b1.symbol < b2.symbol\n  end\n  return b1.timestamp <=> b2.timestamp\nend"}},{"id":"stream:Array(Bar)-instance-method","html_id":"stream:Array(Bar)-instance-method","name":"stream","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Bar)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L5","def":{"name":"stream","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Bar)","visibility":"Public","body":"@stream"}},{"id":"stream=(stream:Array(Bar))-instance-method","html_id":"stream=(stream:Array(Bar))-instance-method","name":"stream=","doc":null,"summary":null,"abstract":false,"args":[{"name":"stream","doc":null,"default_value":"","external_name":"stream","restriction":"Array(Bar)"}],"args_string":"(stream : Array(Bar))","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L9","def":{"name":"stream=","args":[{"name":"stream","doc":null,"default_value":"","external_name":"stream","restriction":"Array(Bar)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@stream = stream"}},{"id":"update_latest(event:Bar)-instance-method","html_id":"update_latest(event:Bar)-instance-method","name":"update_latest","doc":null,"summary":null,"abstract":false,"args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Bar"}],"args_string":"(event : Bar)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L58","def":{"name":"update_latest","args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Bar"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@latest[event.symbol] = event"}},{"id":"update_list(event:Bar)-instance-method","html_id":"update_list(event:Bar)-instance-method","name":"update_list","doc":null,"summary":null,"abstract":false,"args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Bar"}],"args_string":"(event : Bar)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/backtest/data_handler.cr#L62","def":{"name":"update_list","args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Bar"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @list.has_key?(event.symbol)\nelse\n  @list[event.symbol] = [] of Bar\nend\n@list[event.symbol] << event\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","path":"AlgoBacktester/Event.html","kind":"module","full_name":"AlgoBacktester::Event","name":"Event","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"engine/event/abstract_event.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/abstract_event.cr"},{"filename":"engine/event/bar.cr","line_number":5,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr"},{"filename":"engine/event/direction.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/direction.cr"},{"filename":"engine/event/fill_event.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr"},{"filename":"engine/event/order_event.cr","line_number":4,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr"},{"filename":"engine/event/signal_event.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/signal_event.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"}],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","path":"AlgoBacktester/Event/AbstractEvent.html","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/event/abstract_event.cr","line_number":3,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/abstract_event.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/Bar","kind":"struct","full_name":"AlgoBacktester::Event::Bar","name":"Bar"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/FillEvent","kind":"struct","full_name":"AlgoBacktester::Event::FillEvent","name":"FillEvent"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/OrderEvent","kind":"struct","full_name":"AlgoBacktester::Event::OrderEvent","name":"OrderEvent"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/SignalEvent","kind":"struct","full_name":"AlgoBacktester::Event::SignalEvent","name":"SignalEvent"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(timestamp:Time,symbol:String)-class-method","html_id":"new(timestamp:Time,symbol:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":"Time"},{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(timestamp : Time, symbol : String)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/abstract_event.cr#L7","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":"Time"},{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, symbol)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"symbol:String-instance-method","html_id":"symbol:String-instance-method","name":"symbol","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/abstract_event.cr#L7","def":{"name":"symbol","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@symbol"}},{"id":"symbol=(symbol:String)-instance-method","html_id":"symbol=(symbol:String)-instance-method","name":"symbol=","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/abstract_event.cr#L11","def":{"name":"symbol=","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@symbol = symbol"}},{"id":"timestamp:Time-instance-method","html_id":"timestamp:Time-instance-method","name":"timestamp","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/abstract_event.cr#L6","def":{"name":"timestamp","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time","visibility":"Public","body":"@timestamp"}},{"id":"timestamp=(timestamp:Time)-instance-method","html_id":"timestamp=(timestamp:Time)-instance-method","name":"timestamp=","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":"Time"}],"args_string":"(timestamp : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/abstract_event.cr#L10","def":{"name":"timestamp=","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@timestamp = timestamp"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/Bar","path":"AlgoBacktester/Event/Bar.html","kind":"struct","full_name":"AlgoBacktester::Event::Bar","name":"Bar","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent"},{"html_id":"github.com/mikeroher/algo-backtest/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/event/bar.cr","line_number":6,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(symbol,timestamp,adj_close,adj_high,adj_low,adj_open,adj_volume,open,close,div_cash,high,low,split_factor,volume)-class-method","html_id":"new(symbol,timestamp,adj_close,adj_high,adj_low,adj_open,adj_volume,open,close,div_cash,high,low,split_factor,volume)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"adj_close","doc":null,"default_value":"","external_name":"adj_close","restriction":""},{"name":"adj_high","doc":null,"default_value":"","external_name":"adj_high","restriction":""},{"name":"adj_low","doc":null,"default_value":"","external_name":"adj_low","restriction":""},{"name":"adj_open","doc":null,"default_value":"","external_name":"adj_open","restriction":""},{"name":"adj_volume","doc":null,"default_value":"","external_name":"adj_volume","restriction":""},{"name":"open","doc":null,"default_value":"","external_name":"open","restriction":""},{"name":"close","doc":null,"default_value":"","external_name":"close","restriction":""},{"name":"div_cash","doc":null,"default_value":"","external_name":"div_cash","restriction":""},{"name":"high","doc":null,"default_value":"","external_name":"high","restriction":""},{"name":"low","doc":null,"default_value":"","external_name":"low","restriction":""},{"name":"split_factor","doc":null,"default_value":"","external_name":"split_factor","restriction":""},{"name":"volume","doc":null,"default_value":"","external_name":"volume","restriction":""}],"args_string":"(symbol, timestamp, adj_close, adj_high, adj_low, adj_open, adj_volume, open, close, div_cash, high, low, split_factor, volume)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L20","def":{"name":"new","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"adj_close","doc":null,"default_value":"","external_name":"adj_close","restriction":""},{"name":"adj_high","doc":null,"default_value":"","external_name":"adj_high","restriction":""},{"name":"adj_low","doc":null,"default_value":"","external_name":"adj_low","restriction":""},{"name":"adj_open","doc":null,"default_value":"","external_name":"adj_open","restriction":""},{"name":"adj_volume","doc":null,"default_value":"","external_name":"adj_volume","restriction":""},{"name":"open","doc":null,"default_value":"","external_name":"open","restriction":""},{"name":"close","doc":null,"default_value":"","external_name":"close","restriction":""},{"name":"div_cash","doc":null,"default_value":"","external_name":"div_cash","restriction":""},{"name":"high","doc":null,"default_value":"","external_name":"high","restriction":""},{"name":"low","doc":null,"default_value":"","external_name":"low","restriction":""},{"name":"split_factor","doc":null,"default_value":"","external_name":"split_factor","restriction":""},{"name":"volume","doc":null,"default_value":"","external_name":"volume","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(symbol, timestamp, adj_close, adj_high, adj_low, adj_open, adj_volume, open, close, div_cash, high, low, split_factor, volume)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"adj_close:Float64-instance-method","html_id":"adj_close:Float64-instance-method","name":"adj_close","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L9","def":{"name":"adj_close","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@adj_close"}},{"id":"adj_high:Float64-instance-method","html_id":"adj_high:Float64-instance-method","name":"adj_high","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L10","def":{"name":"adj_high","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@adj_high"}},{"id":"adj_low:Float64-instance-method","html_id":"adj_low:Float64-instance-method","name":"adj_low","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L11","def":{"name":"adj_low","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@adj_low"}},{"id":"adj_open:Float64-instance-method","html_id":"adj_open:Float64-instance-method","name":"adj_open","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L12","def":{"name":"adj_open","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@adj_open"}},{"id":"adj_volume:Int64-instance-method","html_id":"adj_volume:Int64-instance-method","name":"adj_volume","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L13","def":{"name":"adj_volume","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@adj_volume"}},{"id":"close:Float64-instance-method","html_id":"close:Float64-instance-method","name":"close","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L15","def":{"name":"close","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@close"}},{"id":"div_cash:Float64-instance-method","html_id":"div_cash:Float64-instance-method","name":"div_cash","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L16","def":{"name":"div_cash","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@div_cash"}},{"id":"high:Float64-instance-method","html_id":"high:Float64-instance-method","name":"high","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L17","def":{"name":"high","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@high"}},{"id":"low:Float64-instance-method","html_id":"low:Float64-instance-method","name":"low","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L18","def":{"name":"low","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@low"}},{"id":"open:Float64-instance-method","html_id":"open:Float64-instance-method","name":"open","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L14","def":{"name":"open","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@open"}},{"id":"price:Float64-instance-method","html_id":"price:Float64-instance-method","name":"price","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L24","def":{"name":"price","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"return close"}},{"id":"split_factor:Float64-instance-method","html_id":"split_factor:Float64-instance-method","name":"split_factor","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L19","def":{"name":"split_factor","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@split_factor"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":"Returns a string representation of this object.\n\nDescendants must usually **not** override this method. Instead,\nthey must override `to_s(io)`, which must append to the given\nIO object.","summary":"<p>Returns a string representation of this object.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L28","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return \"Bar on #{timestamp.to_s(\"%Y-%m-%d\")} for #{symbol} (#{open}, #{high}, #{low}, #{close})\""}},{"id":"volume:Int64-instance-method","html_id":"volume:Int64-instance-method","name":"volume","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/bar.cr#L20","def":{"name":"volume","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@volume"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/Direction","path":"AlgoBacktester/Event/Direction.html","kind":"enum","full_name":"AlgoBacktester::Event::Direction","name":"Direction","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"github.com/mikeroher/algo-backtest/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/event/direction.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/direction.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":true,"alias":false,"aliased":"","const":false,"constants":[{"id":"Buy","name":"Buy","value":"0","doc":"Bought","summary":"<p>Bought</p>"},{"id":"Sell","name":"Sell","value":"1","doc":"Sell","summary":"<p>Sell</p>"},{"id":"Hold","name":"Hold","value":"2","doc":"Hold","summary":"<p>Hold</p>"},{"id":"Exit","name":"Exit","value":"3","doc":"Exit","summary":"<p>Exit</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"buy?-instance-method","html_id":"buy?-instance-method","name":"buy?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/direction.cr#L4","def":{"name":"buy?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Buy"}},{"id":"exit?-instance-method","html_id":"exit?-instance-method","name":"exit?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/direction.cr#L10","def":{"name":"exit?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Exit"}},{"id":"hold?-instance-method","html_id":"hold?-instance-method","name":"hold?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/direction.cr#L8","def":{"name":"hold?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Hold"}},{"id":"sell?-instance-method","html_id":"sell?-instance-method","name":"sell?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/direction.cr#L6","def":{"name":"sell?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Sell"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/FillEvent","path":"AlgoBacktester/Event/FillEvent.html","kind":"struct","full_name":"AlgoBacktester::Event::FillEvent","name":"FillEvent","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent"},{"html_id":"github.com/mikeroher/algo-backtest/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/event/fill_event.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(timestamp,symbol,direction,quantity,price,commission,exchange_fee)-class-method","html_id":"new(timestamp,symbol,direction,quantity,price,commission,exchange_fee)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":""},{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":""},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":""},{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":""},{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":""}],"args_string":"(timestamp, symbol, direction, quantity, price, commission, exchange_fee)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L11","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":""},{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":""},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":""},{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":""},{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, symbol, direction, quantity, price, commission, exchange_fee)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"commission:Float64-instance-method","html_id":"commission:Float64-instance-method","name":"commission","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L8","def":{"name":"commission","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@commission"}},{"id":"commission=(commission:Float64)-instance-method","html_id":"commission=(commission:Float64)-instance-method","name":"commission=","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":"Float64"}],"args_string":"(commission : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L12","def":{"name":"commission=","args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commission = commission"}},{"id":"cost:Float64-instance-method","html_id":"cost:Float64-instance-method","name":"cost","doc":"the total cost of the filled order incl commission and fees","summary":"<p>the total cost of the filled order incl commission and fees</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L11","def":{"name":"cost","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@cost"}},{"id":"cost=(cost:Float64)-instance-method","html_id":"cost=(cost:Float64)-instance-method","name":"cost=","doc":"the total cost of the filled order incl commission and fees","summary":"<p>the total cost of the filled order incl commission and fees</p>","abstract":false,"args":[{"name":"cost","doc":null,"default_value":"","external_name":"cost","restriction":"Float64"}],"args_string":"(cost : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L15","def":{"name":"cost=","args":[{"name":"cost","doc":null,"default_value":"","external_name":"cost","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cost = cost"}},{"id":"direction:Direction-instance-method","html_id":"direction:Direction-instance-method","name":"direction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Direction","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L5","def":{"name":"direction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Direction","visibility":"Public","body":"@direction"}},{"id":"direction=(direction:Direction)-instance-method","html_id":"direction=(direction:Direction)-instance-method","name":"direction=","doc":null,"summary":null,"abstract":false,"args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"Direction"}],"args_string":"(direction : Direction)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L9","def":{"name":"direction=","args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"Direction"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@direction = direction"}},{"id":"exchange_fee:Float64-instance-method","html_id":"exchange_fee:Float64-instance-method","name":"exchange_fee","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L9","def":{"name":"exchange_fee","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@exchange_fee"}},{"id":"exchange_fee=(exchange_fee:Float64)-instance-method","html_id":"exchange_fee=(exchange_fee:Float64)-instance-method","name":"exchange_fee=","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":"Float64"}],"args_string":"(exchange_fee : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L13","def":{"name":"exchange_fee=","args":[{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@exchange_fee = exchange_fee"}},{"id":"net_value:Float64-instance-method","html_id":"net_value:Float64-instance-method","name":"net_value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L19","def":{"name":"net_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"nv = value()\nnv = nv + (direction == Direction::Buy ? cost : -cost)\nreturn nv\n"}},{"id":"price:Float64-instance-method","html_id":"price:Float64-instance-method","name":"price","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L7","def":{"name":"price","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@price"}},{"id":"price=(price:Float64)-instance-method","html_id":"price=(price:Float64)-instance-method","name":"price=","doc":null,"summary":null,"abstract":false,"args":[{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"args_string":"(price : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L11","def":{"name":"price=","args":[{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@price = price"}},{"id":"quantity:Int64-instance-method","html_id":"quantity:Int64-instance-method","name":"quantity","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L6","def":{"name":"quantity","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@quantity"}},{"id":"quantity=(quantity:Int64)-instance-method","html_id":"quantity=(quantity:Int64)-instance-method","name":"quantity=","doc":null,"summary":null,"abstract":false,"args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"}],"args_string":"(quantity : Int64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L10","def":{"name":"quantity=","args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@quantity = quantity"}},{"id":"value:Float64-instance-method","html_id":"value:Float64-instance-method","name":"value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/fill_event.cr#L15","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"return quantity * price"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/OrderEvent","path":"AlgoBacktester/Event/OrderEvent.html","kind":"struct","full_name":"AlgoBacktester::Event::OrderEvent","name":"OrderEvent","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent"},{"html_id":"github.com/mikeroher/algo-backtest/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/event/order_event.cr","line_number":21,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(id,symbol,timestamp,type,direction,status,asset_type,quantity,quantity_filled=nil,limit_price=nil,stop_price=nil)-class-method","html_id":"new(id,symbol,timestamp,type,direction,status,asset_type,quantity,quantity_filled=nil,limit_price=nil,stop_price=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":""},{"name":"status","doc":null,"default_value":"","external_name":"status","restriction":""},{"name":"asset_type","doc":null,"default_value":"","external_name":"asset_type","restriction":""},{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":""},{"name":"quantity_filled","doc":null,"default_value":"nil","external_name":"quantity_filled","restriction":""},{"name":"limit_price","doc":null,"default_value":"nil","external_name":"limit_price","restriction":""},{"name":"stop_price","doc":null,"default_value":"nil","external_name":"stop_price","restriction":""}],"args_string":"(id, symbol, timestamp, type, direction, status, asset_type, quantity, quantity_filled = <span class=\"n\">nil</span>, limit_price = <span class=\"n\">nil</span>, stop_price = <span class=\"n\">nil</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L32","def":{"name":"new","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":""},{"name":"status","doc":null,"default_value":"","external_name":"status","restriction":""},{"name":"asset_type","doc":null,"default_value":"","external_name":"asset_type","restriction":""},{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":""},{"name":"quantity_filled","doc":null,"default_value":"nil","external_name":"quantity_filled","restriction":""},{"name":"limit_price","doc":null,"default_value":"nil","external_name":"limit_price","restriction":""},{"name":"stop_price","doc":null,"default_value":"nil","external_name":"stop_price","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(id, symbol, timestamp, type, direction, status, asset_type, quantity, quantity_filled, limit_price, stop_price)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"asset_type:String-instance-method","html_id":"asset_type:String-instance-method","name":"asset_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L28","def":{"name":"asset_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@asset_type"}},{"id":"asset_type=(asset_type:String)-instance-method","html_id":"asset_type=(asset_type:String)-instance-method","name":"asset_type=","doc":null,"summary":null,"abstract":false,"args":[{"name":"asset_type","doc":null,"default_value":"","external_name":"asset_type","restriction":"String"}],"args_string":"(asset_type : String)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L32","def":{"name":"asset_type=","args":[{"name":"asset_type","doc":null,"default_value":"","external_name":"asset_type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@asset_type = asset_type"}},{"id":"cancel-instance-method","html_id":"cancel-instance-method","name":"cancel","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L36","def":{"name":"cancel","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"status = OrderStatus::Cancelled"}},{"id":"direction:Direction-instance-method","html_id":"direction:Direction-instance-method","name":"direction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Direction","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L24","def":{"name":"direction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Direction","visibility":"Public","body":"@direction"}},{"id":"direction=(direction:Direction)-instance-method","html_id":"direction=(direction:Direction)-instance-method","name":"direction=","doc":null,"summary":null,"abstract":false,"args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"Direction"}],"args_string":"(direction : Direction)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L28","def":{"name":"direction=","args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"Direction"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@direction = direction"}},{"id":"id:Int64-instance-method","html_id":"id:Int64-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L25","def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@id"}},{"id":"id=(id:Int64)-instance-method","html_id":"id=(id:Int64)-instance-method","name":"id=","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"Int64"}],"args_string":"(id : Int64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L29","def":{"name":"id=","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"Int64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@id = id"}},{"id":"limit_price:Float64?-instance-method","html_id":"limit_price:Float64?-instance-method","name":"limit_price","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L31","def":{"name":"limit_price","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64 | ::Nil","visibility":"Public","body":"@limit_price"}},{"id":"limit_price=(limit_price:Float64?)-instance-method","html_id":"limit_price=(limit_price:Float64?)-instance-method","name":"limit_price=","doc":null,"summary":null,"abstract":false,"args":[{"name":"limit_price","doc":null,"default_value":"","external_name":"limit_price","restriction":"Float64 | ::Nil"}],"args_string":"(limit_price : Float64?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L35","def":{"name":"limit_price=","args":[{"name":"limit_price","doc":null,"default_value":"","external_name":"limit_price","restriction":"Float64 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@limit_price = limit_price"}},{"id":"quantity:Int64-instance-method","html_id":"quantity:Int64-instance-method","name":"quantity","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L29","def":{"name":"quantity","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@quantity"}},{"id":"quantity=(quantity:Int64)-instance-method","html_id":"quantity=(quantity:Int64)-instance-method","name":"quantity=","doc":null,"summary":null,"abstract":false,"args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"}],"args_string":"(quantity : Int64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L33","def":{"name":"quantity=","args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@quantity = quantity"}},{"id":"quantity_filled:Int64?-instance-method","html_id":"quantity_filled:Int64?-instance-method","name":"quantity_filled","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L30","def":{"name":"quantity_filled","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64 | ::Nil","visibility":"Public","body":"@quantity_filled"}},{"id":"quantity_filled=(quantity_filled:Int64?)-instance-method","html_id":"quantity_filled=(quantity_filled:Int64?)-instance-method","name":"quantity_filled=","doc":null,"summary":null,"abstract":false,"args":[{"name":"quantity_filled","doc":null,"default_value":"","external_name":"quantity_filled","restriction":"Int64 | ::Nil"}],"args_string":"(quantity_filled : Int64?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L34","def":{"name":"quantity_filled=","args":[{"name":"quantity_filled","doc":null,"default_value":"","external_name":"quantity_filled","restriction":"Int64 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@quantity_filled = quantity_filled"}},{"id":"status:OrderStatus-instance-method","html_id":"status:OrderStatus-instance-method","name":"status","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : OrderStatus","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L27","def":{"name":"status","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"OrderStatus","visibility":"Public","body":"@status"}},{"id":"status=(status:OrderStatus)-instance-method","html_id":"status=(status:OrderStatus)-instance-method","name":"status=","doc":null,"summary":null,"abstract":false,"args":[{"name":"status","doc":null,"default_value":"","external_name":"status","restriction":"OrderStatus"}],"args_string":"(status : OrderStatus)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L31","def":{"name":"status=","args":[{"name":"status","doc":null,"default_value":"","external_name":"status","restriction":"OrderStatus"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@status = status"}},{"id":"stop_price:Float64?-instance-method","html_id":"stop_price:Float64?-instance-method","name":"stop_price","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L32","def":{"name":"stop_price","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64 | ::Nil","visibility":"Public","body":"@stop_price"}},{"id":"stop_price=(stop_price:Float64?)-instance-method","html_id":"stop_price=(stop_price:Float64?)-instance-method","name":"stop_price=","doc":null,"summary":null,"abstract":false,"args":[{"name":"stop_price","doc":null,"default_value":"","external_name":"stop_price","restriction":"Float64 | ::Nil"}],"args_string":"(stop_price : Float64?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L36","def":{"name":"stop_price=","args":[{"name":"stop_price","doc":null,"default_value":"","external_name":"stop_price","restriction":"Float64 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@stop_price = stop_price"}},{"id":"type:OrderType-instance-method","html_id":"type:OrderType-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : OrderType","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L26","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"OrderType","visibility":"Public","body":"@type"}},{"id":"type=(type:OrderType)-instance-method","html_id":"type=(type:OrderType)-instance-method","name":"type=","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"OrderType"}],"args_string":"(type : OrderType)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L30","def":{"name":"type=","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"OrderType"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@type = type"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/OrderStatus","path":"AlgoBacktester/Event/OrderStatus.html","kind":"enum","full_name":"AlgoBacktester::Event::OrderStatus","name":"OrderStatus","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"github.com/mikeroher/algo-backtest/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/event/order_event.cr","line_number":13,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":true,"alias":false,"aliased":"","const":false,"constants":[{"id":"Open","name":"Open","value":"0","doc":null,"summary":null},{"id":"Filled","name":"Filled","value":"1","doc":null,"summary":null},{"id":"Cancelled","name":"Cancelled","value":"2","doc":null,"summary":null},{"id":"Rejected","name":"Rejected","value":"3","doc":null,"summary":null},{"id":"Held","name":"Held","value":"4","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"cancelled?-instance-method","html_id":"cancelled?-instance-method","name":"cancelled?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L16","def":{"name":"cancelled?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Cancelled"}},{"id":"filled?-instance-method","html_id":"filled?-instance-method","name":"filled?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L15","def":{"name":"filled?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Filled"}},{"id":"held?-instance-method","html_id":"held?-instance-method","name":"held?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L18","def":{"name":"held?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Held"}},{"id":"open?-instance-method","html_id":"open?-instance-method","name":"open?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L14","def":{"name":"open?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Open"}},{"id":"rejected?-instance-method","html_id":"rejected?-instance-method","name":"rejected?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L17","def":{"name":"rejected?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Rejected"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/OrderType","path":"AlgoBacktester/Event/OrderType.html","kind":"enum","full_name":"AlgoBacktester::Event::OrderType","name":"OrderType","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"github.com/mikeroher/algo-backtest/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/event/order_event.cr","line_number":6,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":true,"alias":false,"aliased":"","const":false,"constants":[{"id":"Market","name":"Market","value":"0","doc":null,"summary":null},{"id":"StopMarket","name":"StopMarket","value":"1","doc":null,"summary":null},{"id":"Limit","name":"Limit","value":"2","doc":null,"summary":null},{"id":"StopLimit","name":"StopLimit","value":"3","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},"doc":"https://ibkr.info/article/255","summary":"<p>https://ibkr.info/article/255</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"limit?-instance-method","html_id":"limit?-instance-method","name":"limit?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L9","def":{"name":"limit?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Limit"}},{"id":"market?-instance-method","html_id":"market?-instance-method","name":"market?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L7","def":{"name":"market?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Market"}},{"id":"stop_limit?-instance-method","html_id":"stop_limit?-instance-method","name":"stop_limit?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L10","def":{"name":"stop_limit?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == StopLimit"}},{"id":"stop_market?-instance-method","html_id":"stop_market?-instance-method","name":"stop_market?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/order_event.cr#L8","def":{"name":"stop_market?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == StopMarket"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/SignalEvent","path":"AlgoBacktester/Event/SignalEvent.html","kind":"struct","full_name":"AlgoBacktester::Event::SignalEvent","name":"SignalEvent","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event/AbstractEvent","kind":"struct","full_name":"AlgoBacktester::Event::AbstractEvent","name":"AbstractEvent"},{"html_id":"github.com/mikeroher/algo-backtest/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/event/signal_event.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/signal_event.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Event","kind":"module","full_name":"AlgoBacktester::Event","name":"Event"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(timestamp,symbol,direction)-class-method","html_id":"new(timestamp,symbol,direction)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":""}],"args_string":"(timestamp, symbol, direction)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/signal_event.cr#L5","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, symbol, direction)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"direction:Direction-instance-method","html_id":"direction:Direction-instance-method","name":"direction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Direction","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/signal_event.cr#L5","def":{"name":"direction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Direction","visibility":"Public","body":"@direction"}},{"id":"direction=(direction:Direction)-instance-method","html_id":"direction=(direction:Direction)-instance-method","name":"direction=","doc":null,"summary":null,"abstract":false,"args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"Direction"}],"args_string":"(direction : Direction)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/event/signal_event.cr#L9","def":{"name":"direction=","args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"Direction"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@direction = direction"}}],"macros":[],"types":[]}]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception","path":"AlgoBacktester/Exception.html","kind":"module","full_name":"AlgoBacktester::Exception","name":"Exception","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"util/errors.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/errors.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/AlgorithmError","path":"AlgoBacktester/Exception/AlgorithmError.html","kind":"class","full_name":"AlgoBacktester::Exception::AlgorithmError","name":"AlgorithmError","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},{"html_id":"github.com/mikeroher/algo-backtest/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"util/errors.cr","line_number":19,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/errors.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception","kind":"module","full_name":"AlgoBacktester::Exception","name":"Exception"},"doc":"An error ocurred during the run of the algorithms","summary":"<p>An error ocurred during the run of the algorithms</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/EmptyDataHandlerError","path":"AlgoBacktester/Exception/EmptyDataHandlerError.html","kind":"class","full_name":"AlgoBacktester::Exception::EmptyDataHandlerError","name":"EmptyDataHandlerError","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},{"html_id":"github.com/mikeroher/algo-backtest/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"util/errors.cr","line_number":7,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/errors.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception","kind":"module","full_name":"AlgoBacktester::Exception","name":"Exception"},"doc":"Operation called on empty data handler","summary":"<p>Operation called on empty data handler</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","path":"AlgoBacktester/Exception/Error.html","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"util/errors.cr","line_number":4,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/errors.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/AlgorithmError","kind":"class","full_name":"AlgoBacktester::Exception::AlgorithmError","name":"AlgorithmError"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/EmptyDataHandlerError","kind":"class","full_name":"AlgoBacktester::Exception::EmptyDataHandlerError","name":"EmptyDataHandlerError"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/HoldingDoesNotExistError","kind":"class","full_name":"AlgoBacktester::Exception::HoldingDoesNotExistError","name":"HoldingDoesNotExistError"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/InvalidParameterError","kind":"class","full_name":"AlgoBacktester::Exception::InvalidParameterError","name":"InvalidParameterError"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/UnsupportedDirectionError","kind":"class","full_name":"AlgoBacktester::Exception::UnsupportedDirectionError","name":"UnsupportedDirectionError"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception","kind":"module","full_name":"AlgoBacktester::Exception","name":"Exception"},"doc":"Generic error","summary":"<p>Generic error</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/HoldingDoesNotExistError","path":"AlgoBacktester/Exception/HoldingDoesNotExistError.html","kind":"class","full_name":"AlgoBacktester::Exception::HoldingDoesNotExistError","name":"HoldingDoesNotExistError","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},{"html_id":"github.com/mikeroher/algo-backtest/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"util/errors.cr","line_number":16,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/errors.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception","kind":"module","full_name":"AlgoBacktester::Exception","name":"Exception"},"doc":"Operation called on holding that does not exist","summary":"<p>Operation called on holding that does not exist</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/InvalidParameterError","path":"AlgoBacktester/Exception/InvalidParameterError.html","kind":"class","full_name":"AlgoBacktester::Exception::InvalidParameterError","name":"InvalidParameterError","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},{"html_id":"github.com/mikeroher/algo-backtest/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"util/errors.cr","line_number":13,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/errors.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception","kind":"module","full_name":"AlgoBacktester::Exception","name":"Exception"},"doc":"A generic error for invalid parameters","summary":"<p>A generic error for invalid parameters</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/UnsupportedDirectionError","path":"AlgoBacktester/Exception/UnsupportedDirectionError.html","kind":"class","full_name":"AlgoBacktester::Exception::UnsupportedDirectionError","name":"UnsupportedDirectionError","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception/Error","kind":"class","full_name":"AlgoBacktester::Exception::Error","name":"Error"},{"html_id":"github.com/mikeroher/algo-backtest/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"util/errors.cr","line_number":10,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/errors.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Exception","kind":"module","full_name":"AlgoBacktester::Exception","name":"Exception"},"doc":"The direction cannot be understood","summary":"<p>The direction cannot be understood</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Portfolio","path":"AlgoBacktester/Portfolio.html","kind":"class","full_name":"AlgoBacktester::Portfolio","name":"Portfolio","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/AbstractPortfolio","kind":"class","full_name":"AlgoBacktester::AbstractPortfolio","name":"AbstractPortfolio"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/AbstractPortfolio","kind":"class","full_name":"AlgoBacktester::AbstractPortfolio","name":"AbstractPortfolio"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/portfolio/portfolio.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(initial_cash:Float64)-class-method","html_id":"new(initial_cash:Float64)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"initial_cash","doc":null,"default_value":"","external_name":"initial_cash","restriction":"Float64"}],"args_string":"(initial_cash : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L10","def":{"name":"new","args":[{"name":"initial_cash","doc":null,"default_value":"","external_name":"initial_cash","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(initial_cash)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"holdings:Hash(String,Position)-instance-method","html_id":"holdings:Hash(String,Position)-instance-method","name":"holdings","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Position)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L7","def":{"name":"holdings","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, Position)","visibility":"Public","body":"@holdings"}},{"id":"is_invested(symbol:String):Position?-instance-method","html_id":"is_invested(symbol:String):Position?-instance-method","name":"is_invested","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String) : Position?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L62","def":{"name":"is_invested","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Position | ::Nil","visibility":"Public","body":"if @holdings.has_key?(symbol)\n  pos = @holdings[symbol]\n  if pos.quantity != 0\n    return pos\n  end\nend\nreturn nil\n"}},{"id":"is_long(symbol:String):Position?-instance-method","html_id":"is_long(symbol:String):Position?-instance-method","name":"is_long","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String) : Position?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L70","def":{"name":"is_long","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Position | ::Nil","visibility":"Public","body":"if @holdings.has_key?(symbol)\n  pos = @holdings[symbol]\n  if pos.quantity > 0\n    return pos\n  end\nend\nreturn nil\n"}},{"id":"is_short(symbol:String):Position?-instance-method","html_id":"is_short(symbol:String):Position?-instance-method","name":"is_short","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String) : Position?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L78","def":{"name":"is_short","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Position | ::Nil","visibility":"Public","body":"if @holdings.has_key?(symbol)\n  pos = @holdings[symbol]\n  if pos.quantity < 0\n    return pos\n  end\nend\nreturn nil\n"}},{"id":"on_fill(fill:FillEvent,data_handler:DataHandler)-instance-method","html_id":"on_fill(fill:FillEvent,data_handler:DataHandler)-instance-method","name":"on_fill","doc":null,"summary":null,"abstract":false,"args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"},{"name":"data_handler","doc":null,"default_value":"","external_name":"data_handler","restriction":"DataHandler"}],"args_string":"(fill : FillEvent, data_handler : DataHandler)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L40","def":{"name":"on_fill","args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"},{"name":"data_handler","doc":null,"default_value":"","external_name":"data_handler","restriction":"DataHandler"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @holdings.has_key?(fill.symbol)\n  pos = @holdings[fill.symbol]\n  pos.update!(fill)\n  @holdings[fill.symbol] = pos\nelse\n  pos = Position.new(fill)\n  @holdings[fill.symbol] = pos\nend\ncase fill.direction\nwhen Direction::Buy\n  @cash = @cash - fill.net_value\nwhen Direction::Sell\n  @cash = @cash + fill.net_value\nelse\n  raise(InvalidParameterError.new(\"Shouldn't have hold or exit fills\"))\nend\n@transactions << fill\nreturn nil\n"}},{"id":"on_signal(signal:SignalEvent,data_handler:DataHandler)-instance-method","html_id":"on_signal(signal:SignalEvent,data_handler:DataHandler)-instance-method","name":"on_signal","doc":null,"summary":null,"abstract":false,"args":[{"name":"signal","doc":null,"default_value":"","external_name":"signal","restriction":"SignalEvent"},{"name":"data_handler","doc":null,"default_value":"","external_name":"data_handler","restriction":"DataHandler"}],"args_string":"(signal : SignalEvent, data_handler : DataHandler)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L18","def":{"name":"on_signal","args":[{"name":"signal","doc":null,"default_value":"","external_name":"signal","restriction":"SignalEvent"},{"name":"data_handler","doc":null,"default_value":"","external_name":"data_handler","restriction":"DataHandler"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"initial_order = OrderEvent.new(id: @next_order_id, timestamp: signal.timestamp, symbol: signal.symbol, direction: signal.direction, type: OrderType::Market, status: OrderStatus::Open, quantity: 1_i64, asset_type: \"SECURITY\")\n@next_order_id = @next_order_id + 1\nif latest_price = data_handler.latest(signal.symbol)\nelse\n  raise(EmptyDataHandlerError.new(\"trying to add signal for symbol with no data\"))\nend\nsized_order = @size_handler.size_order(initial_order, latest_price, self)\nreturn sized_order\n"}},{"id":"reset!-instance-method","html_id":"reset!-instance-method","name":"reset!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L93","def":{"name":"reset!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cash = @initial_cash\n@holdings = Hash(String, Position).new\n@transactions = [] of FillEvent\n"}},{"id":"size_handler:SizeHandler-instance-method","html_id":"size_handler:SizeHandler-instance-method","name":"size_handler","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : SizeHandler","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L8","def":{"name":"size_handler","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"SizeHandler","visibility":"Public","body":"@size_handler"}},{"id":"update!(bar:Bar)-instance-method","html_id":"update!(bar:Bar)-instance-method","name":"update!","doc":null,"summary":null,"abstract":false,"args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"}],"args_string":"(bar : Bar)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L86","def":{"name":"update!","args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if pos = is_invested(bar.symbol)\n  pos.update_value!(bar)\n  @holdings[bar.symbol] = pos\nend"}},{"id":"value:Float64-instance-method","html_id":"value:Float64-instance-method","name":"value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/portfolio.cr#L99","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"holding_value = @holdings.values.map(&.market_value).sum\nreturn @cash + holding_value\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Position","path":"AlgoBacktester/Position.html","kind":"class","full_name":"AlgoBacktester::Position","name":"Position","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/portfolio/position.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(fill:FillEvent)-class-method","html_id":"new(fill:FillEvent)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"}],"args_string":"(fill : FillEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L31","def":{"name":"new","args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(fill)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"avg_price:Float64-instance-method","html_id":"avg_price:Float64-instance-method","name":"avg_price","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L12","def":{"name":"avg_price","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@avg_price"}},{"id":"avg_price_bht:Float64-instance-method","html_id":"avg_price_bht:Float64-instance-method","name":"avg_price_bht","doc":"average price including cost","summary":"<p>average price including cost</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L14","def":{"name":"avg_price_bht","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@avg_price_bht"}},{"id":"avg_price_net:Float64-instance-method","html_id":"avg_price_net:Float64-instance-method","name":"avg_price_net","doc":"average price without cost","summary":"<p>average price without cost</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L13","def":{"name":"avg_price_net","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@avg_price_net"}},{"id":"avg_price_sld:Float64-instance-method","html_id":"avg_price_sld:Float64-instance-method","name":"avg_price_sld","doc":"average price BOHT, without cost","summary":"<p>average price BOHT, without cost</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L15","def":{"name":"avg_price_sld","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@avg_price_sld"}},{"id":"commission:Float64-instance-method","html_id":"commission:Float64-instance-method","name":"commission","doc":"qty * price","summary":"<p>qty * price</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L24","def":{"name":"commission","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@commission"}},{"id":"cost:Float64-instance-method","html_id":"cost:Float64-instance-method","name":"cost","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L26","def":{"name":"cost","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@cost"}},{"id":"cost_basis:Float64-instance-method","html_id":"cost_basis:Float64-instance-method","name":"cost_basis","doc":"commission + fees","summary":"<p>commission + fees</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L27","def":{"name":"cost_basis","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@cost_basis"}},{"id":"exchange_fee:Float64-instance-method","html_id":"exchange_fee:Float64-instance-method","name":"exchange_fee","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L25","def":{"name":"exchange_fee","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@exchange_fee"}},{"id":"market_price:Float64-instance-method","html_id":"market_price:Float64-instance-method","name":"market_price","doc":"current SLD value - cost","summary":"<p>current SLD value - cost</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L22","def":{"name":"market_price","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@market_price"}},{"id":"market_value:Float64-instance-method","html_id":"market_value:Float64-instance-method","name":"market_value","doc":"last known market price","summary":"<p>last known market price</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L23","def":{"name":"market_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@market_value"}},{"id":"net_value:Float64-instance-method","html_id":"net_value:Float64-instance-method","name":"net_value","doc":"qty SLD * price","summary":"<p>qty SLD * price</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L19","def":{"name":"net_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@net_value"}},{"id":"net_value_bht:Float64-instance-method","html_id":"net_value_bht:Float64-instance-method","name":"net_value_bht","doc":"current value - cost","summary":"<p>current value - cost</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L20","def":{"name":"net_value_bht","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@net_value_bht"}},{"id":"net_value_sld:Float64-instance-method","html_id":"net_value_sld:Float64-instance-method","name":"net_value_sld","doc":"current BOHT value + cost","summary":"<p>current BOHT value + cost</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L21","def":{"name":"net_value_sld","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@net_value_sld"}},{"id":"quantity:Int64-instance-method","html_id":"quantity:Int64-instance-method","name":"quantity","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L7","def":{"name":"quantity","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@quantity"}},{"id":"quantity_bht:Int64-instance-method","html_id":"quantity_bht:Int64-instance-method","name":"quantity_bht","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L9","def":{"name":"quantity_bht","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@quantity_bht"}},{"id":"quantity_sld:Int64-instance-method","html_id":"quantity_sld:Int64-instance-method","name":"quantity_sld","doc":"how many bought","summary":"<p>how many bought</p>","abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L10","def":{"name":"quantity_sld","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@quantity_sld"}},{"id":"real_profit_loss:Float64-instance-method","html_id":"real_profit_loss:Float64-instance-method","name":"real_profit_loss","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L29","def":{"name":"real_profit_loss","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@real_profit_loss"}},{"id":"symbol:String-instance-method","html_id":"symbol:String-instance-method","name":"symbol","doc":"current qty of the position, positive on BOHT position, negativ on SLD position","summary":"<p>current qty of the position, positive on BOHT position, negativ on SLD position</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L6","def":{"name":"symbol","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@symbol"}},{"id":"timestamp:Time-instance-method","html_id":"timestamp:Time-instance-method","name":"timestamp","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L8","def":{"name":"timestamp","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time","visibility":"Public","body":"@timestamp"}},{"id":"total_profit_loss:Float64-instance-method","html_id":"total_profit_loss:Float64-instance-method","name":"total_profit_loss","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L31","def":{"name":"total_profit_loss","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@total_profit_loss"}},{"id":"unreal_profit_loss:Float64-instance-method","html_id":"unreal_profit_loss:Float64-instance-method","name":"unreal_profit_loss","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L30","def":{"name":"unreal_profit_loss","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@unreal_profit_loss"}},{"id":"update!(fill:FillEvent)-instance-method","html_id":"update!(fill:FillEvent)-instance-method","name":"update!","doc":null,"summary":null,"abstract":false,"args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"}],"args_string":"(fill : FillEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L37","def":{"name":"update!","args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@timestamp = fill.timestamp\nupdate_helper!(fill)\n"}},{"id":"update_value!(bar:Bar)-instance-method","html_id":"update_value!(bar:Bar)-instance-method","name":"update_value!","doc":null,"summary":null,"abstract":false,"args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"}],"args_string":"(bar : Bar)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L42","def":{"name":"update_value!","args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@timestamp = bar.timestamp\nlatest_price = bar.price\nupdate_value_helper!(latest_price)\n"}},{"id":"value:Float64-instance-method","html_id":"value:Float64-instance-method","name":"value","doc":"average price SLD, without cost","summary":"<p>average price SLD, without cost</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L16","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@value"}},{"id":"value_bht:Float64-instance-method","html_id":"value_bht:Float64-instance-method","name":"value_bht","doc":"qty * price","summary":"<p>qty * price</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L17","def":{"name":"value_bht","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@value_bht"}},{"id":"value_sld:Float64-instance-method","html_id":"value_sld:Float64-instance-method","name":"value_sld","doc":"qty BOHT * price","summary":"<p>qty BOHT * price</p>","abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/position.cr#L18","def":{"name":"value_sld","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@value_sld"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/SizeHandler","path":"AlgoBacktester/SizeHandler.html","kind":"class","full_name":"AlgoBacktester::SizeHandler","name":"SizeHandler","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/portfolio/size_handler.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/size_handler.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(default_size,default_value)-class-method","html_id":"new(default_size,default_value)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"default_size","doc":null,"default_value":"","external_name":"default_size","restriction":""},{"name":"default_value","doc":null,"default_value":"","external_name":"default_value","restriction":""}],"args_string":"(default_size, default_value)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/size_handler.cr#L6","def":{"name":"new","args":[{"name":"default_size","doc":null,"default_value":"","external_name":"default_size","restriction":""},{"name":"default_value","doc":null,"default_value":"","external_name":"default_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(default_size, default_value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"size_order(order:OrderEvent,bar:Bar,portfolio:AbstractPortfolio):OrderEvent-instance-method","html_id":"size_order(order:OrderEvent,bar:Bar,portfolio:AbstractPortfolio):OrderEvent-instance-method","name":"size_order","doc":"Remember that orders are passed by value so we have to return the updated order","summary":"<p>Remember that orders are passed by value so we have to return the updated order</p>","abstract":false,"args":[{"name":"order","doc":null,"default_value":"","external_name":"order","restriction":"OrderEvent"},{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"},{"name":"portfolio","doc":null,"default_value":"","external_name":"portfolio","restriction":"AbstractPortfolio"}],"args_string":"(order : OrderEvent, bar : Bar, portfolio : AbstractPortfolio) : OrderEvent","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/size_handler.cr#L13","def":{"name":"size_order","args":[{"name":"order","doc":null,"default_value":"","external_name":"order","restriction":"OrderEvent"},{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"},{"name":"portfolio","doc":null,"default_value":"","external_name":"portfolio","restriction":"AbstractPortfolio"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"OrderEvent","visibility":"Public","body":"case order.direction\nwhen Direction::Buy\n  order.quantity = set_default_size(bar.price)\nwhen Direction::Sell\n  order.quantity = set_default_size(bar.price)\nwhen Direction::Exit\n  if portfolio.is_invested(order.symbol)\n  else\n    raise(HoldingDoesNotExistError.new(\"no holding to exit from\"))\n  end\n  if pos = portfolio.is_long(order.symbol)\n    order.quantity = pos.quantity\n  else\n    if pos = portfolio.is_short(order.symbol)\n      order.quantity = -pos.quantity\n    end\n  end\nend\nreturn order\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StatisticHandler","path":"AlgoBacktester/StatisticHandler.html","kind":"class","full_name":"AlgoBacktester::StatisticHandler","name":"StatisticHandler","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/portfolio/statistic_handler.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L19","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"events:Array(AlgoBacktester::Event::AbstractEvent)-instance-method","html_id":"events:Array(AlgoBacktester::Event::AbstractEvent)-instance-method","name":"events","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(AlgoBacktester::Event::AbstractEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L31","def":{"name":"events","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@event_history"}},{"id":"max_drawdown:Float64-instance-method","html_id":"max_drawdown:Float64-instance-method","name":"max_drawdown","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L131","def":{"name":"max_drawdown","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"_, max_dd_equity_point = calc_max_drawdown_point()\nreturn max_dd_equity_point.drawdown\n"}},{"id":"max_drawdown_duration:Time-instance-method","html_id":"max_drawdown_duration:Time-instance-method","name":"max_drawdown_duration","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L141","def":{"name":"max_drawdown_duration","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time","visibility":"Public","body":"if @equity_history.empty?\n  return 0\nend\nmax__dd_idx, max_eq_point = calc_max_drawdown_point()\nprev_max_eq_pt = @equity_history[0]\n(max__dd_idx.downto(0)).each do |idx|\n  if prev_max_eq_pt.nil? || @equity_history[idx].equity > prev_max_eq_pt.equity\n    prev_max_eq_pt = @equity_history[idx]\n  end\nend\nreturn max_eq_point.timestamp - prev_max_eq_pt.timestamp\n"}},{"id":"max_drawdown_timestamp:Float64-instance-method","html_id":"max_drawdown_timestamp:Float64-instance-method","name":"max_drawdown_timestamp","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L136","def":{"name":"max_drawdown_timestamp","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"_, max_dd_equity_point = calc_max_drawdown_point()\nreturn max_dd_equity_point.timestamp\n"}},{"id":"print_summary-instance-method","html_id":"print_summary-instance-method","name":"print_summary","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L74","def":{"name":"print_summary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"bar_events = @event_history.select do |e|\n  e.is_a?(Bar)\nend\nkSummaryStrTemplate = \"%-30s%5s\\n\"\nkSummaryFltTemplate = \"%-30s%5.2f\\n\"\nstart_date, end_date = bar_events.first.timestamp, bar_events.last.timestamp\nsummary = String.build do |str|\n  str << \"BACKTEST SUMMARY\\n#{\"-\" * 50}\\n\\n\"\n  str << (sprintf(kSummaryStrTemplate, \"Start Date\", start_date.to_s(\"%Y-%m-%d\")))\n  str << (sprintf(kSummaryStrTemplate, \"End Date\", end_date.to_s(\"%Y-%m-%d\")))\n  str << (sprintf(kSummaryStrTemplate, \"# of events\", \"#{@event_history.size} events\"))\n  str << (sprintf(kSummaryStrTemplate, \"# of transactions\", \"#{@transaction_history.size} events\"))\n  puts\n  str << (sprintf(kSummaryFltTemplate, \"Total equity return\", total_equity_return()))\n  str << (sprintf(kSummaryFltTemplate, \"Sharpe ratio\", sharpe_ratio(0.0)))\n  str << (sprintf(kSummaryFltTemplate, \"Sortino ratio\", sortino_ratio(0.0)))\nend\nputs(summary)\n"}},{"id":"reset!-instance-method","html_id":"reset!-instance-method","name":"reset!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L65","def":{"name":"reset!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@event_history = [] of AbstractEvent\n@transaction_history = [] of FillEvent\n@equity_history = [] of EquityPoint\n@high = EquityPoint.new(timestamp: Time.now, equity: 0_f64, equity_return: 0_f64, drawdown: 0_f64)\n@low = EquityPoint.new(timestamp: Time.now, equity: 0_f64, equity_return: 0_f64, drawdown: 0_f64)\n"}},{"id":"sharpe_ratio(risk_free:Float64)-instance-method","html_id":"sharpe_ratio(risk_free:Float64)-instance-method","name":"sharpe_ratio","doc":null,"summary":null,"abstract":false,"args":[{"name":"risk_free","doc":null,"default_value":"","external_name":"risk_free","restriction":"Float64"}],"args_string":"(risk_free : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L112","def":{"name":"sharpe_ratio","args":[{"name":"risk_free","doc":null,"default_value":"","external_name":"risk_free","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"equity_returns = @equity_history.map(&.equity_return)\nmean = equity_returns.mean\nstddev = equity_returns.stddev\nreturn (mean - risk_free) / stddev\n"}},{"id":"sortino_ratio(risk_free:Float64)-instance-method","html_id":"sortino_ratio(risk_free:Float64)-instance-method","name":"sortino_ratio","doc":null,"summary":null,"abstract":false,"args":[{"name":"risk_free","doc":null,"default_value":"","external_name":"risk_free","restriction":"Float64"}],"args_string":"(risk_free : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L120","def":{"name":"sortino_ratio","args":[{"name":"risk_free","doc":null,"default_value":"","external_name":"risk_free","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"equity_returns = @equity_history.map(&.equity_return)\nmean = equity_returns.mean\nneg_returns = equity_returns.reject do |r|\n  r > 0\nend\nneg_stddev = neg_returns.stddev\nreturn (mean - risk_free) / neg_stddev\n"}},{"id":"total_equity_return:Float64-instance-method","html_id":"total_equity_return:Float64-instance-method","name":"total_equity_return","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L104","def":{"name":"total_equity_return","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"if @equity_history.empty?\n  return 0.0\nend\nfirst_eq_pt = @equity_history.first.equity\nlast_eq_pt = @equity_history.last.equity\nreturn (last_eq_pt - first_eq_pt) / first_eq_pt\n"}},{"id":"track_event(event:AbstractEvent)-instance-method","html_id":"track_event(event:AbstractEvent)-instance-method","name":"track_event","doc":null,"summary":null,"abstract":false,"args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"AbstractEvent"}],"args_string":"(event : AbstractEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L27","def":{"name":"track_event","args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"AbstractEvent"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@event_history << event"}},{"id":"track_transaction(fill:FillEvent)-instance-method","html_id":"track_transaction(fill:FillEvent)-instance-method","name":"track_transaction","doc":null,"summary":null,"abstract":false,"args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"}],"args_string":"(fill : FillEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L35","def":{"name":"track_transaction","args":[{"name":"fill","doc":null,"default_value":"","external_name":"fill","restriction":"FillEvent"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@transaction_history << fill"}},{"id":"transactions:Array(AlgoBacktester::Event::FillEvent)-instance-method","html_id":"transactions:Array(AlgoBacktester::Event::FillEvent)-instance-method","name":"transactions","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(AlgoBacktester::Event::FillEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L39","def":{"name":"transactions","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@transaction_history"}},{"id":"update!(bar:Bar,portfolio:AbstractPortfolio)-instance-method","html_id":"update!(bar:Bar,portfolio:AbstractPortfolio)-instance-method","name":"update!","doc":null,"summary":null,"abstract":false,"args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"},{"name":"portfolio","doc":null,"default_value":"","external_name":"portfolio","restriction":"AbstractPortfolio"}],"args_string":"(bar : Bar, portfolio : AbstractPortfolio)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L43","def":{"name":"update!","args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"},{"name":"portfolio","doc":null,"default_value":"","external_name":"portfolio","restriction":"AbstractPortfolio"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"equity = portfolio.value\nequity_return = calc_equity_return(equity)\ndrawdown = calc_drawdown(equity)\nep = EquityPoint.new(timestamp: bar.timestamp, equity: equity, equity_return: equity_return, drawdown: drawdown)\nif equity >= @high.equity\n  @high.equity = equity\nend\nif equity <= @low.equity\n  @low.equity = equity\nend\n@equity_history << ep\n"}}],"macros":[],"types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StatisticHandler/EquityPoint","path":"AlgoBacktester/StatisticHandler/EquityPoint.html","kind":"struct","full_name":"AlgoBacktester::StatisticHandler::EquityPoint","name":"EquityPoint","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/mikeroher/algo-backtest/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/portfolio/statistic_handler.cr","line_number":3,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StatisticHandler","kind":"class","full_name":"AlgoBacktester::StatisticHandler","name":"StatisticHandler"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(timestamp,equity,equity_return,drawdown)-class-method","html_id":"new(timestamp,equity,equity_return,drawdown)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"equity","doc":null,"default_value":"","external_name":"equity","restriction":""},{"name":"equity_return","doc":null,"default_value":"","external_name":"equity_return","restriction":""},{"name":"drawdown","doc":null,"default_value":"","external_name":"drawdown","restriction":""}],"args_string":"(timestamp, equity, equity_return, drawdown)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L9","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"equity","doc":null,"default_value":"","external_name":"equity","restriction":""},{"name":"equity_return","doc":null,"default_value":"","external_name":"equity_return","restriction":""},{"name":"drawdown","doc":null,"default_value":"","external_name":"drawdown","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, equity, equity_return, drawdown)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"drawdown:Float64-instance-method","html_id":"drawdown:Float64-instance-method","name":"drawdown","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L9","def":{"name":"drawdown","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@drawdown"}},{"id":"drawdown=(drawdown:Float64)-instance-method","html_id":"drawdown=(drawdown:Float64)-instance-method","name":"drawdown=","doc":null,"summary":null,"abstract":false,"args":[{"name":"drawdown","doc":null,"default_value":"","external_name":"drawdown","restriction":"Float64"}],"args_string":"(drawdown : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L13","def":{"name":"drawdown=","args":[{"name":"drawdown","doc":null,"default_value":"","external_name":"drawdown","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drawdown = drawdown"}},{"id":"equity:Float64-instance-method","html_id":"equity:Float64-instance-method","name":"equity","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L7","def":{"name":"equity","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@equity"}},{"id":"equity=(equity:Float64)-instance-method","html_id":"equity=(equity:Float64)-instance-method","name":"equity=","doc":null,"summary":null,"abstract":false,"args":[{"name":"equity","doc":null,"default_value":"","external_name":"equity","restriction":"Float64"}],"args_string":"(equity : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L11","def":{"name":"equity=","args":[{"name":"equity","doc":null,"default_value":"","external_name":"equity","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@equity = equity"}},{"id":"equity_return:Float64-instance-method","html_id":"equity_return:Float64-instance-method","name":"equity_return","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L8","def":{"name":"equity_return","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@equity_return"}},{"id":"equity_return=(equity_return:Float64)-instance-method","html_id":"equity_return=(equity_return:Float64)-instance-method","name":"equity_return=","doc":null,"summary":null,"abstract":false,"args":[{"name":"equity_return","doc":null,"default_value":"","external_name":"equity_return","restriction":"Float64"}],"args_string":"(equity_return : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L12","def":{"name":"equity_return=","args":[{"name":"equity_return","doc":null,"default_value":"","external_name":"equity_return","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@equity_return = equity_return"}},{"id":"timestamp:Time-instance-method","html_id":"timestamp:Time-instance-method","name":"timestamp","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L6","def":{"name":"timestamp","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time","visibility":"Public","body":"@timestamp"}},{"id":"timestamp=(timestamp:Time)-instance-method","html_id":"timestamp=(timestamp:Time)-instance-method","name":"timestamp=","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":"Time"}],"args_string":"(timestamp : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/portfolio/statistic_handler.cr#L10","def":{"name":"timestamp=","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@timestamp = timestamp"}}],"macros":[],"types":[]}]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","path":"AlgoBacktester/StockExchange.html","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"engine/exchange/abstract_commission.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_commission.cr"},{"filename":"engine/exchange/abstract_exchange.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_exchange.cr"},{"filename":"engine/exchange/abstract_exchange_fee.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_exchange_fee.cr"},{"filename":"engine/exchange/exchange.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr"},{"filename":"engine/exchange/fixed_commission.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_commission.cr"},{"filename":"engine/exchange/fixed_exchange_fee.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_exchange_fee.cr"},{"filename":"engine/exchange/percentage_commission.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/percentage_commission.cr"},{"filename":"engine/exchange/range_commission.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr"},{"filename":"engine/exchange/threshold_fixed_commission.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/threshold_fixed_commission.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"}],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","path":"AlgoBacktester/StockExchange/AbstractCommission.html","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/abstract_commission.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_commission.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/FixedCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::FixedCommission","name":"FixedCommission"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/PercentageCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::PercentageCommission","name":"PercentageCommission"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/RangeCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::RangeCommission","name":"RangeCommission"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/ThresholdFixedCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::ThresholdFixedCommission","name":"ThresholdFixedCommission"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","html_id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","name":"calculate","doc":null,"summary":null,"abstract":true,"args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"args_string":"(quantity : Int64, price : Float64) : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_commission.cr#L3","def":{"name":"calculate","args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractExchange","path":"AlgoBacktester/StockExchange/AbstractExchange.html","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractExchange","name":"AbstractExchange","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/abstract_exchange.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_exchange.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/Exchange","kind":"class","full_name":"AlgoBacktester::StockExchange::Exchange","name":"Exchange"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"on_data(bar:BarEvent):FillEvent?-instance-method","html_id":"on_data(bar:BarEvent):FillEvent?-instance-method","name":"on_data","doc":null,"summary":null,"abstract":true,"args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"BarEvent"}],"args_string":"(bar : BarEvent) : FillEvent?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_exchange.cr#L3","def":{"name":"on_data","args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"BarEvent"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"FillEvent | ::Nil","visibility":"Public","body":""}},{"id":"on_order(order:OrderEvent,data:DataHandler):FillEvent-instance-method","html_id":"on_order(order:OrderEvent,data:DataHandler):FillEvent-instance-method","name":"on_order","doc":null,"summary":null,"abstract":true,"args":[{"name":"order","doc":null,"default_value":"","external_name":"order","restriction":"OrderEvent"},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"DataHandler"}],"args_string":"(order : OrderEvent, data : DataHandler) : FillEvent","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_exchange.cr#L4","def":{"name":"on_order","args":[{"name":"order","doc":null,"default_value":"","external_name":"order","restriction":"OrderEvent"},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"DataHandler"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"FillEvent","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractExchangeFee","path":"AlgoBacktester/StockExchange/AbstractExchangeFee.html","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractExchangeFee","name":"AbstractExchangeFee","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/abstract_exchange_fee.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_exchange_fee.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/FixedExchangeFee","kind":"class","full_name":"AlgoBacktester::StockExchange::FixedExchangeFee","name":"FixedExchangeFee"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"fee:Float64-instance-method","html_id":"fee:Float64-instance-method","name":"fee","doc":null,"summary":null,"abstract":true,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/abstract_exchange_fee.cr#L3","def":{"name":"fee","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/Exchange","path":"AlgoBacktester/StockExchange/Exchange.html","kind":"class","full_name":"AlgoBacktester::StockExchange::Exchange","name":"Exchange","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractExchange","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractExchange","name":"AbstractExchange"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractExchange","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractExchange","name":"AbstractExchange"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/exchange.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(symbol,commission,exchange_fee)-class-method","html_id":"new(symbol,commission,exchange_fee)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":""},{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":""}],"args_string":"(symbol, commission, exchange_fee)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L7","def":{"name":"new","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":""},{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":""},{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(symbol, commission, exchange_fee)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"commission:AbstractCommission-instance-method","html_id":"commission:AbstractCommission-instance-method","name":"commission","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AbstractCommission","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L6","def":{"name":"commission","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AbstractCommission","visibility":"Public","body":"@commission"}},{"id":"commission=(commission:AbstractCommission)-instance-method","html_id":"commission=(commission:AbstractCommission)-instance-method","name":"commission=","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":"AbstractCommission"}],"args_string":"(commission : AbstractCommission)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L10","def":{"name":"commission=","args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":"AbstractCommission"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commission = commission"}},{"id":"exchange_fee:AbstractExchangeFee-instance-method","html_id":"exchange_fee:AbstractExchangeFee-instance-method","name":"exchange_fee","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AbstractExchangeFee","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L7","def":{"name":"exchange_fee","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AbstractExchangeFee","visibility":"Public","body":"@exchange_fee"}},{"id":"exchange_fee=(exchange_fee:AbstractExchangeFee)-instance-method","html_id":"exchange_fee=(exchange_fee:AbstractExchangeFee)-instance-method","name":"exchange_fee=","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":"AbstractExchangeFee"}],"args_string":"(exchange_fee : AbstractExchangeFee)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L11","def":{"name":"exchange_fee=","args":[{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":"AbstractExchangeFee"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@exchange_fee = exchange_fee"}},{"id":"on_data(bar:Bar):FillEvent?-instance-method","html_id":"on_data(bar:Bar):FillEvent?-instance-method","name":"on_data","doc":"on_data executes any open order on new data","summary":"<p>on_data executes any open order on new data</p>","abstract":false,"args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"}],"args_string":"(bar : Bar) : FillEvent?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L11","def":{"name":"on_data","args":[{"name":"bar","doc":null,"default_value":"","external_name":"bar","restriction":"Bar"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"FillEvent | ::Nil","visibility":"Public","body":""}},{"id":"on_order(order:OrderEvent,data:DataHandler):FillEvent-instance-method","html_id":"on_order(order:OrderEvent,data:DataHandler):FillEvent-instance-method","name":"on_order","doc":null,"summary":null,"abstract":false,"args":[{"name":"order","doc":null,"default_value":"","external_name":"order","restriction":"OrderEvent"},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"DataHandler"}],"args_string":"(order : OrderEvent, data : DataHandler) : FillEvent","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L14","def":{"name":"on_order","args":[{"name":"order","doc":null,"default_value":"","external_name":"order","restriction":"OrderEvent"},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"DataHandler"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"FillEvent","visibility":"Public","body":"if latest_price = data.latest(order.symbol)\nelse\n  raise(EmptyDataHandlerError.new(\"Trying to place order for security with no data\"))\nend\nord_commish = @commission.calculate(order.quantity, latest_price.price)\nexc_fee = @exchange_fee.fee\nreturn FillEvent.new(symbol: order.symbol, timestamp: order.timestamp, direction: order.direction, quantity: order.quantity, price: latest_price.price, commission: ord_commish, exchange_fee: exc_fee)\n"}},{"id":"symbol:String-instance-method","html_id":"symbol:String-instance-method","name":"symbol","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L5","def":{"name":"symbol","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@symbol"}},{"id":"symbol=(symbol:String)-instance-method","html_id":"symbol=(symbol:String)-instance-method","name":"symbol=","doc":null,"summary":null,"abstract":false,"args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"args_string":"(symbol : String)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/exchange.cr#L9","def":{"name":"symbol=","args":[{"name":"symbol","doc":null,"default_value":"","external_name":"symbol","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@symbol = symbol"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/FixedCommission","path":"AlgoBacktester/StockExchange/FixedCommission.html","kind":"class","full_name":"AlgoBacktester::StockExchange::FixedCommission","name":"FixedCommission","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/fixed_commission.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_commission.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(commission)-class-method","html_id":"new(commission)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":""}],"args_string":"(commission)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_commission.cr#L5","def":{"name":"new","args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(commission)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","html_id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","name":"calculate","doc":null,"summary":null,"abstract":false,"args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"args_string":"(quantity : Int64, price : Float64) : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_commission.cr#L8","def":{"name":"calculate","args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"if (quantity == 0) || (price == 0)\n  return 0_f64\nend\nreturn @commission\n"}},{"id":"commission:Float64-instance-method","html_id":"commission:Float64-instance-method","name":"commission","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_commission.cr#L5","def":{"name":"commission","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@commission"}},{"id":"commission=(commission:Float64)-instance-method","html_id":"commission=(commission:Float64)-instance-method","name":"commission=","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":"Float64"}],"args_string":"(commission : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_commission.cr#L9","def":{"name":"commission=","args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commission = commission"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/FixedExchangeFee","path":"AlgoBacktester/StockExchange/FixedExchangeFee.html","kind":"class","full_name":"AlgoBacktester::StockExchange::FixedExchangeFee","name":"FixedExchangeFee","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractExchangeFee","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractExchangeFee","name":"AbstractExchangeFee"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractExchangeFee","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractExchangeFee","name":"AbstractExchangeFee"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/fixed_exchange_fee.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_exchange_fee.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(exchange_fee)-class-method","html_id":"new(exchange_fee)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":""}],"args_string":"(exchange_fee)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_exchange_fee.cr#L5","def":{"name":"new","args":[{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(exchange_fee)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"exchange_fee:Float64-instance-method","html_id":"exchange_fee:Float64-instance-method","name":"exchange_fee","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_exchange_fee.cr#L5","def":{"name":"exchange_fee","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@exchange_fee"}},{"id":"exchange_fee=(exchange_fee:Float64)-instance-method","html_id":"exchange_fee=(exchange_fee:Float64)-instance-method","name":"exchange_fee=","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":"Float64"}],"args_string":"(exchange_fee : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_exchange_fee.cr#L9","def":{"name":"exchange_fee=","args":[{"name":"exchange_fee","doc":null,"default_value":"","external_name":"exchange_fee","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@exchange_fee = exchange_fee"}},{"id":"fee:Float64-instance-method","html_id":"fee:Float64-instance-method","name":"fee","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/fixed_exchange_fee.cr#L9","def":{"name":"fee","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"return @exchange_fee"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/PercentageCommission","path":"AlgoBacktester/StockExchange/PercentageCommission.html","kind":"class","full_name":"AlgoBacktester::StockExchange::PercentageCommission","name":"PercentageCommission","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/percentage_commission.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/percentage_commission.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(commission_perc)-class-method","html_id":"new(commission_perc)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission_perc","doc":null,"default_value":"","external_name":"commission_perc","restriction":""}],"args_string":"(commission_perc)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/percentage_commission.cr#L5","def":{"name":"new","args":[{"name":"commission_perc","doc":null,"default_value":"","external_name":"commission_perc","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(commission_perc)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","html_id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","name":"calculate","doc":null,"summary":null,"abstract":false,"args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"args_string":"(quantity : Int64, price : Float64) : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/percentage_commission.cr#L9","def":{"name":"calculate","args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"if (quantity == 0) || (price == 0)\n  return 0_f64\nend\nreturn (quantity * price) * @commission_perc\n"}},{"id":"commission_perc:Float64-instance-method","html_id":"commission_perc:Float64-instance-method","name":"commission_perc","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/percentage_commission.cr#L5","def":{"name":"commission_perc","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@commission_perc"}},{"id":"commission_perc=(commission_perc:Float64)-instance-method","html_id":"commission_perc=(commission_perc:Float64)-instance-method","name":"commission_perc=","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission_perc","doc":null,"default_value":"","external_name":"commission_perc","restriction":"Float64"}],"args_string":"(commission_perc : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/percentage_commission.cr#L9","def":{"name":"commission_perc=","args":[{"name":"commission_perc","doc":null,"default_value":"","external_name":"commission_perc","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commission_perc = commission_perc"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/RangeCommission","path":"AlgoBacktester/StockExchange/RangeCommission.html","kind":"class","full_name":"AlgoBacktester::StockExchange::RangeCommission","name":"RangeCommission","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/range_commission.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(commission_perc,min_commission,max_commission)-class-method","html_id":"new(commission_perc,min_commission,max_commission)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission_perc","doc":null,"default_value":"","external_name":"commission_perc","restriction":""},{"name":"min_commission","doc":null,"default_value":"","external_name":"min_commission","restriction":""},{"name":"max_commission","doc":null,"default_value":"","external_name":"max_commission","restriction":""}],"args_string":"(commission_perc, min_commission, max_commission)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr#L7","def":{"name":"new","args":[{"name":"commission_perc","doc":null,"default_value":"","external_name":"commission_perc","restriction":""},{"name":"min_commission","doc":null,"default_value":"","external_name":"min_commission","restriction":""},{"name":"max_commission","doc":null,"default_value":"","external_name":"max_commission","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(commission_perc, min_commission, max_commission)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","html_id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","name":"calculate","doc":null,"summary":null,"abstract":false,"args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"args_string":"(quantity : Int64, price : Float64) : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr#L13","def":{"name":"calculate","args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"if (quantity == 0) || (price == 0)\n  return 0_f64\nend\nraw_commission = (quantity * price) * @commission_perc\nif @min_commission > raw_commission\n  return @min_commission\nend\nif @max_commission < raw_commission\n  return @max_commission\nend\nreturn raw_commission\n"}},{"id":"commission_perc:Float64-instance-method","html_id":"commission_perc:Float64-instance-method","name":"commission_perc","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr#L5","def":{"name":"commission_perc","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@commission_perc"}},{"id":"commission_perc=(commission_perc:Float64)-instance-method","html_id":"commission_perc=(commission_perc:Float64)-instance-method","name":"commission_perc=","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission_perc","doc":null,"default_value":"","external_name":"commission_perc","restriction":"Float64"}],"args_string":"(commission_perc : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr#L9","def":{"name":"commission_perc=","args":[{"name":"commission_perc","doc":null,"default_value":"","external_name":"commission_perc","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commission_perc = commission_perc"}},{"id":"max_commission:Float64-instance-method","html_id":"max_commission:Float64-instance-method","name":"max_commission","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr#L7","def":{"name":"max_commission","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@max_commission"}},{"id":"max_commission=(max_commission:Float64)-instance-method","html_id":"max_commission=(max_commission:Float64)-instance-method","name":"max_commission=","doc":null,"summary":null,"abstract":false,"args":[{"name":"max_commission","doc":null,"default_value":"","external_name":"max_commission","restriction":"Float64"}],"args_string":"(max_commission : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr#L11","def":{"name":"max_commission=","args":[{"name":"max_commission","doc":null,"default_value":"","external_name":"max_commission","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@max_commission = max_commission"}},{"id":"min_commission:Float64-instance-method","html_id":"min_commission:Float64-instance-method","name":"min_commission","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr#L6","def":{"name":"min_commission","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@min_commission"}},{"id":"min_commission=(min_commission:Float64)-instance-method","html_id":"min_commission=(min_commission:Float64)-instance-method","name":"min_commission=","doc":null,"summary":null,"abstract":false,"args":[{"name":"min_commission","doc":null,"default_value":"","external_name":"min_commission","restriction":"Float64"}],"args_string":"(min_commission : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/range_commission.cr#L10","def":{"name":"min_commission=","args":[{"name":"min_commission","doc":null,"default_value":"","external_name":"min_commission","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@min_commission = min_commission"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/ThresholdFixedCommission","path":"AlgoBacktester/StockExchange/ThresholdFixedCommission.html","kind":"class","full_name":"AlgoBacktester::StockExchange::ThresholdFixedCommission","name":"ThresholdFixedCommission","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange/AbstractCommission","kind":"class","full_name":"AlgoBacktester::StockExchange::AbstractCommission","name":"AbstractCommission"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/exchange/threshold_fixed_commission.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/threshold_fixed_commission.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/StockExchange","kind":"module","full_name":"AlgoBacktester::StockExchange","name":"StockExchange"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(commission,min_value)-class-method","html_id":"new(commission,min_value)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":""},{"name":"min_value","doc":null,"default_value":"","external_name":"min_value","restriction":""}],"args_string":"(commission, min_value)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/threshold_fixed_commission.cr#L6","def":{"name":"new","args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":""},{"name":"min_value","doc":null,"default_value":"","external_name":"min_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(commission, min_value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","html_id":"calculate(quantity:Int64,price:Float64):Float64-instance-method","name":"calculate","doc":null,"summary":null,"abstract":false,"args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"args_string":"(quantity : Int64, price : Float64) : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/threshold_fixed_commission.cr#L11","def":{"name":"calculate","args":[{"name":"quantity","doc":null,"default_value":"","external_name":"quantity","restriction":"Int64"},{"name":"price","doc":null,"default_value":"","external_name":"price","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"if (quantity == 0) || (price == 0)\n  return 0_f64\nend\nif @min_value > (quantity * price)\n  return @min_value\nend\nreturn @commission\n"}},{"id":"commission:Float64-instance-method","html_id":"commission:Float64-instance-method","name":"commission","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/threshold_fixed_commission.cr#L5","def":{"name":"commission","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@commission"}},{"id":"commission=(commission:Float64)-instance-method","html_id":"commission=(commission:Float64)-instance-method","name":"commission=","doc":null,"summary":null,"abstract":false,"args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":"Float64"}],"args_string":"(commission : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/threshold_fixed_commission.cr#L9","def":{"name":"commission=","args":[{"name":"commission","doc":null,"default_value":"","external_name":"commission","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commission = commission"}},{"id":"min_value:Float64-instance-method","html_id":"min_value:Float64-instance-method","name":"min_value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/threshold_fixed_commission.cr#L6","def":{"name":"min_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@min_value"}},{"id":"min_value=(min_value:Float64)-instance-method","html_id":"min_value=(min_value:Float64)-instance-method","name":"min_value=","doc":null,"summary":null,"abstract":false,"args":[{"name":"min_value","doc":null,"default_value":"","external_name":"min_value","restriction":"Float64"}],"args_string":"(min_value : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/exchange/threshold_fixed_commission.cr#L10","def":{"name":"min_value=","args":[{"name":"min_value","doc":null,"default_value":"","external_name":"min_value","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@min_value = min_value"}}],"macros":[],"types":[]}]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","path":"AlgoBacktester/Tree.html","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"engine/tree/abstract_algorithm.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_algorithm.cr"},{"filename":"engine/tree/abstract_node.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr"},{"filename":"engine/tree/abstract_strategy.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr"},{"filename":"engine/tree/algorithm_stack.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/algorithm_stack.cr"},{"filename":"engine/tree/asset.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/asset.cr"},{"filename":"engine/tree/bool_algorithm.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/bool_algorithm.cr"},{"filename":"engine/tree/comparison_algorithm.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr"},{"filename":"engine/tree/conditional_algorithm.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr"},{"filename":"engine/tree/indicator_algorithm.cr","line_number":164,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/indicator_algorithm.cr"},{"filename":"engine/tree/period_algorithm.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr"},{"filename":"engine/tree/signal_algorithm.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/signal_algorithm.cr"},{"filename":"engine/tree/strategy.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/strategy.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"}],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester","kind":"module","full_name":"AlgoBacktester","name":"AlgoBacktester"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","path":"AlgoBacktester/Tree/AbstractAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/abstract_algorithm.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AlgorithmStack","kind":"class","full_name":"AlgoBacktester::Tree::AlgorithmStack","name":"AlgorithmStack"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AndAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AndAlgorithm","name":"AndAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/BiggerThanAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::BiggerThanAlgorithm","name":"BiggerThanAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/BoolAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::BoolAlgorithm","name":"BoolAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/EqualToAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::EqualToAlgorithm","name":"EqualToAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/IfAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::IfAlgorithm","name":"IfAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/IndicatorAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::IndicatorAlgorithm","name":"IndicatorAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/LessThanAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::LessThanAlgorithm","name":"LessThanAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/OrAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::OrAlgorithm","name":"OrAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunOnceAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunOnceAlgorithm","name":"RunOnceAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/SignalAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::SignalAlgorithm","name":"SignalAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/XorAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::XorAlgorithm","name":"XorAlgorithm"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(run_always,value)-class-method","html_id":"new(run_always,value)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"run_always","doc":null,"default_value":"","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(run_always, value)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_algorithm.cr#L7","def":{"name":"new","args":[{"name":"run_always","doc":null,"default_value":"","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":null,"summary":null,"abstract":true,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_algorithm.cr#L10","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":""}},{"id":"run_always:Bool-instance-method","html_id":"run_always:Bool-instance-method","name":"run_always","doc":"determines if the strategy should always run, regardless of failure","summary":"<p>determines if the strategy should always run, regardless of failure</p>","abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_algorithm.cr#L6","def":{"name":"run_always","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@run_always"}},{"id":"run_always=(run_always:Bool)-instance-method","html_id":"run_always=(run_always:Bool)-instance-method","name":"run_always=","doc":"determines if the strategy should always run, regardless of failure","summary":"<p>determines if the strategy should always run, regardless of failure</p>","abstract":false,"args":[{"name":"run_always","doc":null,"default_value":"","external_name":"run_always","restriction":"Bool"}],"args_string":"(run_always : Bool)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_algorithm.cr#L10","def":{"name":"run_always=","args":[{"name":"run_always","doc":null,"default_value":"","external_name":"run_always","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@run_always = run_always"}},{"id":"value:Float64-instance-method","html_id":"value:Float64-instance-method","name":"value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_algorithm.cr#L7","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@value"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractNode","path":"AlgoBacktester/Tree/AbstractNode.html","kind":"class","full_name":"AlgoBacktester::Tree::AbstractNode","name":"AbstractNode","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/abstract_node.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractStrategy","kind":"class","full_name":"AlgoBacktester::Tree::AbstractStrategy","name":"AbstractStrategy"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/Asset","kind":"class","full_name":"AlgoBacktester::Tree::Asset","name":"Asset"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,root=false,weight=1.0,tolerance=0.0)-class-method","html_id":"new(name,root=false,weight=1.0,tolerance=0.0)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"root","doc":null,"default_value":"false","external_name":"root","restriction":""},{"name":"weight","doc":null,"default_value":"1.0","external_name":"weight","restriction":""},{"name":"tolerance","doc":null,"default_value":"0.0","external_name":"tolerance","restriction":""}],"args_string":"(name, root = <span class=\"n\">false</span>, weight = <span class=\"n\">1.0</span>, tolerance = <span class=\"n\">0.0</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L9","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"root","doc":null,"default_value":"false","external_name":"root","restriction":""},{"name":"weight","doc":null,"default_value":"1.0","external_name":"weight","restriction":""},{"name":"tolerance","doc":null,"default_value":"0.0","external_name":"tolerance","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, root, weight, tolerance)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_child(child:AbstractNode)-instance-method","html_id":"add_child(child:AbstractNode)-instance-method","name":"add_child","doc":null,"summary":null,"abstract":false,"args":[{"name":"child","doc":null,"default_value":"","external_name":"child","restriction":"AbstractNode"}],"args_string":"(child : AbstractNode)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L12","def":{"name":"add_child","args":[{"name":"child","doc":null,"default_value":"","external_name":"child","restriction":"AbstractNode"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"child.root = false\n@children << child\n"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L5","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"root:Bool-instance-method","html_id":"root:Bool-instance-method","name":"root","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L6","def":{"name":"root","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@root"}},{"id":"root=(root:Bool)-instance-method","html_id":"root=(root:Bool)-instance-method","name":"root=","doc":null,"summary":null,"abstract":false,"args":[{"name":"root","doc":null,"default_value":"","external_name":"root","restriction":"Bool"}],"args_string":"(root : Bool)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L10","def":{"name":"root=","args":[{"name":"root","doc":null,"default_value":"","external_name":"root","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@root = root"}},{"id":"set_children(*children:AbstractNode)-instance-method","html_id":"set_children(*children:AbstractNode)-instance-method","name":"set_children","doc":null,"summary":null,"abstract":false,"args":[{"name":"children","doc":null,"default_value":"","external_name":"children","restriction":"AbstractNode"}],"args_string":"(*children : AbstractNode)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L17","def":{"name":"set_children","args":[{"name":"children","doc":null,"default_value":"","external_name":"children","restriction":"AbstractNode"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"children.each do |c|\n  add_child(c)\nend"}},{"id":"tolerance:Float64-instance-method","html_id":"tolerance:Float64-instance-method","name":"tolerance","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L8","def":{"name":"tolerance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@tolerance"}},{"id":"tolerance=(tolerance:Float64)-instance-method","html_id":"tolerance=(tolerance:Float64)-instance-method","name":"tolerance=","doc":null,"summary":null,"abstract":false,"args":[{"name":"tolerance","doc":null,"default_value":"","external_name":"tolerance","restriction":"Float64"}],"args_string":"(tolerance : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L12","def":{"name":"tolerance=","args":[{"name":"tolerance","doc":null,"default_value":"","external_name":"tolerance","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tolerance = tolerance"}},{"id":"weight:Float64-instance-method","html_id":"weight:Float64-instance-method","name":"weight","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L7","def":{"name":"weight","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64","visibility":"Public","body":"@weight"}},{"id":"weight=(weight:Float64)-instance-method","html_id":"weight=(weight:Float64)-instance-method","name":"weight=","doc":null,"summary":null,"abstract":false,"args":[{"name":"weight","doc":null,"default_value":"","external_name":"weight","restriction":"Float64"}],"args_string":"(weight : Float64)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_node.cr#L11","def":{"name":"weight=","args":[{"name":"weight","doc":null,"default_value":"","external_name":"weight","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@weight = weight"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractStrategy","path":"AlgoBacktester/Tree/AbstractStrategy.html","kind":"class","full_name":"AlgoBacktester::Tree::AbstractStrategy","name":"AbstractStrategy","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractNode","kind":"class","full_name":"AlgoBacktester::Tree::AbstractNode","name":"AbstractNode"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractNode","kind":"class","full_name":"AlgoBacktester::Tree::AbstractNode","name":"AbstractNode"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/abstract_strategy.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/Strategy","kind":"class","full_name":"AlgoBacktester::Tree::Strategy","name":"Strategy"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name)-class-method","html_id":"new(name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L10","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_signal(*signals:SignalEvent)-instance-method","html_id":"add_signal(*signals:SignalEvent)-instance-method","name":"add_signal","doc":null,"summary":null,"abstract":false,"args":[{"name":"signals","doc":null,"default_value":"","external_name":"signals","restriction":"SignalEvent"}],"args_string":"(*signals : SignalEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L30","def":{"name":"add_signal","args":[{"name":"signals","doc":null,"default_value":"","external_name":"signals","restriction":"SignalEvent"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@signals.concat(signals)"}},{"id":"assets:Array(Asset)-instance-method","html_id":"assets:Array(Asset)-instance-method","name":"assets","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Asset)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L44","def":{"name":"assets","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Asset)","visibility":"Public","body":"return @children.select do |c|\n  c.is_a?(Asset)\nend.map do |ass|\n  ass.as(Asset)\nend"}},{"id":"data:DataHandler?-instance-method","html_id":"data:DataHandler?-instance-method","name":"data","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : DataHandler?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L8","def":{"name":"data","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"DataHandler | ::Nil","visibility":"Public","body":"@data"}},{"id":"data=(data:DataHandler?)-instance-method","html_id":"data=(data:DataHandler?)-instance-method","name":"data=","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"DataHandler | ::Nil"}],"args_string":"(data : DataHandler?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L16","def":{"name":"data=","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"DataHandler | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data = data\nstrategies().each do |strat|\n  strat.data = data\nend\n"}},{"id":"event:AbstractEvent?-instance-method","html_id":"event:AbstractEvent?-instance-method","name":"event","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AbstractEvent?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L10","def":{"name":"event","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AbstractEvent | ::Nil","visibility":"Public","body":"@event"}},{"id":"event=(event:AbstractEvent?)-instance-method","html_id":"event=(event:AbstractEvent?)-instance-method","name":"event=","doc":null,"summary":null,"abstract":false,"args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"AbstractEvent | ::Nil"}],"args_string":"(event : AbstractEvent?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L14","def":{"name":"event=","args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"AbstractEvent | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@event = event"}},{"id":"on_data(event:Bar):Array(SignalEvent)-instance-method","html_id":"on_data(event:Bar):Array(SignalEvent)-instance-method","name":"on_data","doc":null,"summary":null,"abstract":false,"args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Bar"}],"args_string":"(event : Bar) : Array(SignalEvent)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L50","def":{"name":"on_data","args":[{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Bar"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(SignalEvent)","visibility":"Public","body":"@event = event\n@algos.run(self)\npp(strategies())\nstrategies().each do |strat|\n  child_signals = strat.on_data(event)\n  @signals.concat(child_signals)\nend\nsignals = @signals\n@signals = [] of SignalEvent\nreturn signals\n"}},{"id":"portfolio:AbstractPortfolio?-instance-method","html_id":"portfolio:AbstractPortfolio?-instance-method","name":"portfolio","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AbstractPortfolio?","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L9","def":{"name":"portfolio","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AbstractPortfolio | ::Nil","visibility":"Public","body":"@portfolio"}},{"id":"portfolio=(portfolio:AbstractPortfolio?)-instance-method","html_id":"portfolio=(portfolio:AbstractPortfolio?)-instance-method","name":"portfolio=","doc":null,"summary":null,"abstract":false,"args":[{"name":"portfolio","doc":null,"default_value":"","external_name":"portfolio","restriction":"AbstractPortfolio | ::Nil"}],"args_string":"(portfolio : AbstractPortfolio?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L23","def":{"name":"portfolio=","args":[{"name":"portfolio","doc":null,"default_value":"","external_name":"portfolio","restriction":"AbstractPortfolio | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@portfolio = portfolio\nstrategies().each do |strat|\n  strat.portfolio = portfolio\nend\n"}},{"id":"set_algo(*algos:AbstractAlgorithm)-instance-method","html_id":"set_algo(*algos:AbstractAlgorithm)-instance-method","name":"set_algo","doc":null,"summary":null,"abstract":false,"args":[{"name":"algos","doc":null,"default_value":"","external_name":"algos","restriction":"AbstractAlgorithm"}],"args_string":"(*algos : AbstractAlgorithm)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L34","def":{"name":"set_algo","args":[{"name":"algos","doc":null,"default_value":"","external_name":"algos","restriction":"AbstractAlgorithm"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@algos.stack.concat(algos)"}},{"id":"strategies:Array(AbstractStrategy)-instance-method","html_id":"strategies:Array(AbstractStrategy)-instance-method","name":"strategies","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(AbstractStrategy)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/abstract_strategy.cr#L38","def":{"name":"strategies","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(AbstractStrategy)","visibility":"Public","body":"return @children.select do |c|\n  c.is_a?(AbstractStrategy)\nend.map do |strat|\n  strat.as(AbstractStrategy)\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AlgorithmStack","path":"AlgoBacktester/Tree/AlgorithmStack.html","kind":"class","full_name":"AlgoBacktester::Tree::AlgorithmStack","name":"AlgorithmStack","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/algorithm_stack.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/algorithm_stack.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(run_always=false,value=0_f64,stack=[]ofAbstractAlgorithm)-class-method","html_id":"new(run_always=false,value=0_f64,stack=[]ofAbstractAlgorithm)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""},{"name":"stack","doc":null,"default_value":"[] of AbstractAlgorithm","external_name":"stack","restriction":""}],"args_string":"(run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>, stack = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">AbstractAlgorithm</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/algorithm_stack.cr#L5","def":{"name":"new","args":[{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""},{"name":"stack","doc":null,"default_value":"[] of AbstractAlgorithm","external_name":"stack","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(run_always, value, stack)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/algorithm_stack.cr#L12","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"@stack.each do |algo|\n  algo_was_successful, error = algo.run(strategy)\n  puts([algo_was_successful, error])\n  if algo_was_successful\n  else\n    return {false, error}\n  end\nend\nreturn {true, nil}\n"}},{"id":"stack:Array(AbstractAlgorithm)-instance-method","html_id":"stack:Array(AbstractAlgorithm)-instance-method","name":"stack","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(AbstractAlgorithm)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/algorithm_stack.cr#L5","def":{"name":"stack","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(AbstractAlgorithm)","visibility":"Public","body":"@stack"}},{"id":"stack=(stack:Array(AbstractAlgorithm))-instance-method","html_id":"stack=(stack:Array(AbstractAlgorithm))-instance-method","name":"stack=","doc":null,"summary":null,"abstract":false,"args":[{"name":"stack","doc":null,"default_value":"","external_name":"stack","restriction":"Array(AbstractAlgorithm)"}],"args_string":"(stack : Array(AbstractAlgorithm))","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/algorithm_stack.cr#L9","def":{"name":"stack=","args":[{"name":"stack","doc":null,"default_value":"","external_name":"stack","restriction":"Array(AbstractAlgorithm)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@stack = stack"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AndAlgorithm","path":"AlgoBacktester/Tree/AndAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::AndAlgorithm","name":"AndAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/conditional_algorithm.cr","line_number":23,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(first,second,run_always=false,value=0_f64)-class-method","html_id":"new(first,second,run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(first, second, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr#L28","def":{"name":"new","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(first, second, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr#L33","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"result_first, err_first = @first.run(strategy)\nresult_second, err_second = @second.run(strategy)\nis_and = result_first && result_second\nif is_and\n  return {true, nil}\nend\nreturn {false, AlgorithmError.new((\"AND condition not held\"))}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/Asset","path":"AlgoBacktester/Tree/Asset.html","kind":"class","full_name":"AlgoBacktester::Tree::Asset","name":"Asset","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractNode","kind":"class","full_name":"AlgoBacktester::Tree::AbstractNode","name":"AbstractNode"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractNode","kind":"class","full_name":"AlgoBacktester::Tree::AbstractNode","name":"AbstractNode"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/asset.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/asset.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name:String)-class-method","html_id":"new(name:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/asset.cr#L3","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"children-instance-method","html_id":"children-instance-method","name":"children","doc":"Children returns an empty slice and false, an Asset is not allowed to have children.","summary":"<p>Children returns an empty slice and false, an Asset is not allowed to have children.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/asset.cr#L9","def":{"name":"children","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return [] of AbstractNode"}},{"id":"set_children(*children:AbstractNode)-instance-method","html_id":"set_children(*children:AbstractNode)-instance-method","name":"set_children","doc":"SetChildren return itself without change, as an Asset ist not allowed to have children.","summary":"<p>SetChildren return itself without change, as an Asset ist not allowed to have children.</p>","abstract":false,"args":[{"name":"children","doc":null,"default_value":"","external_name":"children","restriction":"AbstractNode"}],"args_string":"(*children : AbstractNode)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/asset.cr#L14","def":{"name":"set_children","args":[{"name":"children","doc":null,"default_value":"","external_name":"children","restriction":"AbstractNode"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"nil"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/BiggerThanAlgorithm","path":"AlgoBacktester/Tree/BiggerThanAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::BiggerThanAlgorithm","name":"BiggerThanAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/comparison_algorithm.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(first,second,run_always=false,value=0_f64)-class-method","html_id":"new(first,second,run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(first, second, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr#L7","def":{"name":"new","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(first, second, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr#L12","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"result_first = @first.run(strategy)\nresult_second = @second.run(strategy)\nif result_first && result_second\nelse\n  return {false, AlgorithmError.new(\"Algos passed in to > had non-true values\")}\nend\nis_bigger = @first.value > @second.value\nif is_bigger\n  return {true, nil}\nend\nreturn {false, AlgorithmError.new(\"#{result_first} was not > than #{result_second}\")}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/BoolAlgorithm","path":"AlgoBacktester/Tree/BoolAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::BoolAlgorithm","name":"BoolAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/bool_algorithm.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/bool_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(boolean,run_always=false,value=0_f64)-class-method","html_id":"new(boolean,run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"boolean","doc":null,"default_value":"","external_name":"boolean","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(boolean, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/bool_algorithm.cr#L6","def":{"name":"new","args":[{"name":"boolean","doc":null,"default_value":"","external_name":"boolean","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(boolean, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/bool_algorithm.cr#L11","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"if @boolean\n  return {true, nil}\nend\nreturn {false, AlgorithmError.new(\"Boolean parameter to BoolAlgo was false\")}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/EqualToAlgorithm","path":"AlgoBacktester/Tree/EqualToAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::EqualToAlgorithm","name":"EqualToAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/comparison_algorithm.cr","line_number":47,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(first,second,run_always=false,value=0_f64)-class-method","html_id":"new(first,second,run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(first, second, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr#L52","def":{"name":"new","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(first, second, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr#L57","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"result_first = @first.run(strategy)\nresult_second = @second.run(strategy)\nif result_first && result_second\nelse\n  return {false, AlgorithmError.new(\"Algos passed in to == had non-true values\")}\nend\nis_equal = @first.value == @second.value\nif is_equal\n  return {true, nil}\nend\nreturn {false, AlgorithmError.new(\"#{result_first} was not == #{result_second}\")}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/IfAlgorithm","path":"AlgoBacktester/Tree/IfAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::IfAlgorithm","name":"IfAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/conditional_algorithm.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(condition,action,run_always=false,value=0_f64)-class-method","html_id":"new(condition,action,run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""},{"name":"action","doc":null,"default_value":"","external_name":"action","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(condition, action, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr#L7","def":{"name":"new","args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""},{"name":"action","doc":null,"default_value":"","external_name":"action","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(condition, action, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr#L12","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"result_condition, err = @condition.run(strategy)\nif result_condition\n  result_action, err = @action.run(strategy)\n  if result_action\n    return {true, nil}\n  end\n  return {false, AlgorithmError.new((  \"if condition met but result was false\"))}\nend\nreturn {true, nil}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/IndicatorAlgorithm","path":"AlgoBacktester/Tree/IndicatorAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::IndicatorAlgorithm","name":"IndicatorAlgorithm","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/indicator_algorithm.cr","line_number":165,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/indicator_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/SMA","kind":"class","full_name":"AlgoBacktester::Tree::SMA","name":"SMA"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(run_always=false,value=0_f64)-class-method","html_id":"new(run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/indicator_algorithm.cr#L167","def":{"name":"new","args":[{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/indicator_algorithm.cr#L172","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"return {true, nil}"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/LessThanAlgorithm","path":"AlgoBacktester/Tree/LessThanAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::LessThanAlgorithm","name":"LessThanAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/comparison_algorithm.cr","line_number":24,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(first,second,run_always=false,value=0_f64)-class-method","html_id":"new(first,second,run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(first, second, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr#L29","def":{"name":"new","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(first, second, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/comparison_algorithm.cr#L34","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"result_first = @first.run(strategy)\nresult_second = @second.run(strategy)\nif result_first && result_second\nelse\n  return {false, AlgorithmError.new(\"Algos passed in to < had non-true values\")}\nend\nis_smaller = @first.value < @second.value\nif is_smaller\n  return {true, nil}\nend\nreturn {false, AlgorithmError.new(\"#{result_first} was not < than #{result_second}\")}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/OrAlgorithm","path":"AlgoBacktester/Tree/OrAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::OrAlgorithm","name":"OrAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/conditional_algorithm.cr","line_number":42,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(first,second,run_always=false,value=0_f64)-class-method","html_id":"new(first,second,run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(first, second, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr#L47","def":{"name":"new","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(first, second, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr#L52","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"result_first, err_first = @first.run(strategy)\nresult_second, err_second = @second.run(strategy)\nis_or = result_first || result_second\nif is_or\n  return {true, nil}\nend\nreturn {false, AlgorithmError.new((\"OR condition not held\"))}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunDailyAlgorithm","path":"AlgoBacktester/Tree/RunDailyAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::RunDailyAlgorithm","name":"RunDailyAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/period_algorithm.cr","line_number":51,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"dates_are_same?(now:Time,event:Time)-instance-method","html_id":"dates_are_same?(now:Time,event:Time)-instance-method","name":"dates_are_same?","doc":null,"summary":null,"abstract":false,"args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"args_string":"(now : Time, event : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L52","def":{"name":"dates_are_same?","args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return now.day_of_year == event.day_of_year"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunMonthlyAlgorithm","path":"AlgoBacktester/Tree/RunMonthlyAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::RunMonthlyAlgorithm","name":"RunMonthlyAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/period_algorithm.cr","line_number":63,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"dates_are_same?(now:Time,event:Time)-instance-method","html_id":"dates_are_same?(now:Time,event:Time)-instance-method","name":"dates_are_same?","doc":null,"summary":null,"abstract":false,"args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"args_string":"(now : Time, event : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L64","def":{"name":"dates_are_same?","args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return (now.month == event.month) && (now.year == event.year)"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunOnceAlgorithm","path":"AlgoBacktester/Tree/RunOnceAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::RunOnceAlgorithm","name":"RunOnceAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/period_algorithm.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(run_always=false,value=0_f64)-class-method","html_id":"new(run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L6","def":{"name":"new","args":[{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L12","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"if @has_run\n  return {false, AlgorithmError.new(\"Run once failed as it has already been run\")}\nend\n@has_run = true\nreturn {true, nil}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","path":"AlgoBacktester/Tree/RunPeriodAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm","abstract":true,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/period_algorithm.cr","line_number":20,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunDailyAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunDailyAlgorithm","name":"RunDailyAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunMonthlyAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunMonthlyAlgorithm","name":"RunMonthlyAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunQuarterlyAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunQuarterlyAlgorithm","name":"RunQuarterlyAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunWeeklyAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunWeeklyAlgorithm","name":"RunWeeklyAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunYearlyAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunYearlyAlgorithm","name":"RunYearlyAlgorithm"}],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(run_always=false,value=0_f64)-class-method","html_id":"new(run_always=false,value=0_f64)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L21","def":{"name":"new","args":[{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"dates_are_same?(now:Time,event:Time)-instance-method","html_id":"dates_are_same?(now:Time,event:Time)-instance-method","name":"dates_are_same?","doc":null,"summary":null,"abstract":true,"args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"args_string":"(now : Time, event : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L48","def":{"name":"dates_are_same?","args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L25","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"event = strategy.event\ndata = strategy.data\nif event.nil? || data.nil?\n  return {false, AlgorithmError.new(\"Can't run period algorithm with nil data or nil event\")}\nend\nhistory = data.history\nif history.size <= 1\n  return {true, nil}\nend\nnow_timestamp = event.timestamp\nevent_timestamp = history.first.timestamp\nsame_dates = dates_are_same?(now_timestamp, event_timestamp)\nif !same_dates\n  return {true, nil}\nend\nreturn {false, AlgorithmError.new(\"Dates are in same period\")}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunQuarterlyAlgorithm","path":"AlgoBacktester/Tree/RunQuarterlyAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::RunQuarterlyAlgorithm","name":"RunQuarterlyAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/period_algorithm.cr","line_number":69,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"dates_are_same?(now:Time,event:Time)-instance-method","html_id":"dates_are_same?(now:Time,event:Time)-instance-method","name":"dates_are_same?","doc":null,"summary":null,"abstract":false,"args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"args_string":"(now : Time, event : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L70","def":{"name":"dates_are_same?","args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return ((date_quarter(now)) == (date_quarter(event))) && (now.year == event.year)"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunWeeklyAlgorithm","path":"AlgoBacktester/Tree/RunWeeklyAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::RunWeeklyAlgorithm","name":"RunWeeklyAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/period_algorithm.cr","line_number":57,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"dates_are_same?(now:Time,event:Time)-instance-method","html_id":"dates_are_same?(now:Time,event:Time)-instance-method","name":"dates_are_same?","doc":null,"summary":null,"abstract":false,"args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"args_string":"(now : Time, event : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L58","def":{"name":"dates_are_same?","args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return now.calendar_week == event.calendar_week"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunYearlyAlgorithm","path":"AlgoBacktester/Tree/RunYearlyAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::RunYearlyAlgorithm","name":"RunYearlyAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/RunPeriodAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::RunPeriodAlgorithm","name":"RunPeriodAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/period_algorithm.cr","line_number":90,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"dates_are_same?(now:Time,event:Time)-instance-method","html_id":"dates_are_same?(now:Time,event:Time)-instance-method","name":"dates_are_same?","doc":null,"summary":null,"abstract":false,"args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"args_string":"(now : Time, event : Time)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/period_algorithm.cr#L91","def":{"name":"dates_are_same?","args":[{"name":"now","doc":null,"default_value":"","external_name":"now","restriction":"Time"},{"name":"event","doc":null,"default_value":"","external_name":"event","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"puts(\"now.year == event.year => #{now.to_s(\"%Y\")} == #{now.to_s(\"%Y\")} = #{event.year == now.year}\")\nreturn now.year == event.year\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/SignalAlgorithm","path":"AlgoBacktester/Tree/SignalAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::SignalAlgorithm","name":"SignalAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/signal_algorithm.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/signal_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(direction:Symbol|Direction,run_always=false,value=0_f64)-class-method","html_id":"new(direction:Symbol|Direction,run_always=false,value=0_f64)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"Symbol | Direction"},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(direction : Symbol | Direction, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/signal_algorithm.cr#L5","def":{"name":"new","args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"Symbol | Direction"},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(direction, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/signal_algorithm.cr#L18","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"event = strategy.event\nif event.nil?\n  return {false, AlgorithmError.new(\"Event for signal is nil\")}\nend\nstrategy.add_signal(SignalEvent.new(timestamp: event.timestamp, symbol: event.symbol, direction: @direction))\nreturn {true, nil}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/SMA","path":"AlgoBacktester/Tree/SMA.html","kind":"class","full_name":"AlgoBacktester::Tree::SMA","name":"SMA","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/IndicatorAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::IndicatorAlgorithm","name":"IndicatorAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/IndicatorAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::IndicatorAlgorithm","name":"IndicatorAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/indicator_algorithm.cr","line_number":177,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/indicator_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(period:Int64,time_period:Float64=30.0)-class-method","html_id":"new(period:Int64,time_period:Float64=30.0)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"period","doc":null,"default_value":"","external_name":"period","restriction":"Int64"},{"name":"time_period","doc":null,"default_value":"30.0","external_name":"time_period","restriction":"Float64"}],"args_string":"(period : Int64, time_period : Float64 = <span class=\"n\">30.0</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/indicator_algorithm.cr#L178","def":{"name":"new","args":[{"name":"period","doc":null,"default_value":"","external_name":"period","restriction":"Int64"},{"name":"time_period","doc":null,"default_value":"30.0","external_name":"time_period","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(period, time_period)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/indicator_algorithm.cr#L183","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"if (data = strategy.data).nil?\n  return {false, AlgorithmError.new(\"Indicator failed because data was nil\")}\nend\nif (event = strategy.event).nil?\n  return {false, AlgorithmError.new(\"Indicator failed because event was nil\")}\nend\nsymbol = event.symbol\nholding_list = data.list(symbol)\nif holding_list.nil?\n  return {false, AlgorithmError.new(\"Indicator failed because no data was found for holding\")}\nend\nif holding_list.size < @time_period\n  return {false, AlgorithmError.new(\"Indicator failed because SMA requires > #{@time_period} data entries.\")}\nend\nprices = holding_list.map(&.price)\nif @period < 0\n  return {false, AlgorithmError.new(\"Indicator failed because selected period cannot be negative\")}\nend\ntalib_result = CrystalTalib.execute(name: \"SMA\", start_idx: 0, end_idx: prices.size - 1, in_real: prices, opt_in_time_period: @time_period)\nsma_values = talib_result[:result][\"outReal\"]\nif @period > sma_values.size\n  return {false, AlgorithmError.new(\"Indicator failed because selected period be > #{sma_values.size}\")}\nend\n@value = sma_values[@period]\nreturn {true, nil}\n"}}],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/Strategy","path":"AlgoBacktester/Tree/Strategy.html","kind":"class","full_name":"AlgoBacktester::Tree::Strategy","name":"Strategy","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractStrategy","kind":"class","full_name":"AlgoBacktester::Tree::AbstractStrategy","name":"AbstractStrategy"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractStrategy","kind":"class","full_name":"AlgoBacktester::Tree::AbstractStrategy","name":"AbstractStrategy"},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractNode","kind":"class","full_name":"AlgoBacktester::Tree::AbstractNode","name":"AbstractNode"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/strategy.cr","line_number":2,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/strategy.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/XorAlgorithm","path":"AlgoBacktester/Tree/XorAlgorithm.html","kind":"class","full_name":"AlgoBacktester::Tree::XorAlgorithm","name":"XorAlgorithm","abstract":false,"superclass":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},"ancestors":[{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree/AbstractAlgorithm","kind":"class","full_name":"AlgoBacktester::Tree::AbstractAlgorithm","name":"AbstractAlgorithm"},{"html_id":"github.com/mikeroher/algo-backtest/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/mikeroher/algo-backtest/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"engine/tree/conditional_algorithm.cr","line_number":62,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/mikeroher/algo-backtest/AlgoBacktester/Tree","kind":"module","full_name":"AlgoBacktester::Tree","name":"Tree"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(first,second,run_always=false,value=0_f64)-class-method","html_id":"new(first,second,run_always=false,value=0_f64)-class-method","name":"new","doc":"Returns a simple true/false algo","summary":"<p>Returns a simple true/false algo</p>","abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"args_string":"(first, second, run_always = <span class=\"n\">false</span>, value = <span class=\"n\">0_f64</span>)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr#L67","def":{"name":"new","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":""},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":""},{"name":"run_always","doc":null,"default_value":"false","external_name":"run_always","restriction":""},{"name":"value","doc":null,"default_value":"0_f64","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(first, second, run_always, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","html_id":"run(strategy:AbstractStrategy):::Tuple(Bool,AlgorithmError?)-instance-method","name":"run","doc":"Runs the algorithm, returning the bool value of the algorithm","summary":"<p>Runs the algorithm, returning the bool value of the algorithm</p>","abstract":false,"args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"args_string":"(strategy : AbstractStrategy) : ::Tuple(Bool, AlgorithmError?)","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/engine/tree/conditional_algorithm.cr#L72","def":{"name":"run","args":[{"name":"strategy","doc":null,"default_value":"","external_name":"strategy","restriction":"AbstractStrategy"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Tuple(Bool, AlgorithmError | ::Nil)","visibility":"Public","body":"result_first, err_first = @first.run(strategy)\nresult_second, err_second = @second.run(strategy)\nis_xor = (result_first && (!result_second)) || ((!result_first) && result_second)\nif is_xor\n  return {true, nil}\nend\nreturn {false, AlgorithmError.new((\"XOR condition not held\"))}\n"}}],"macros":[],"types":[]}]}]},{"html_id":"github.com/mikeroher/algo-backtest/Enumerable","path":"Enumerable.html","kind":"module","full_name":"Enumerable(T)","name":"Enumerable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"util/enumerable_stat_patches.cr","line_number":1,"url":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/enumerable_stat_patches.cr"}],"repository_name":"github.com/mikeroher/algo-backtest","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"The `Enumerable` mixin provides collection classes with several traversal, searching,\nfiltering and querying methods.\n\nIncluding types must provide an `each` method, which yields successive members\nof the collection.\n\nFor example:\n\n```\nclass Three\n  include Enumerable(Int32)\n\n  def each\n    yield 1\n    yield 2\n    yield 3\n  end\nend\n\nthree = Three.new\nthree.to_a                # => [1, 2, 3]\nthree.select &.odd?       # => [1, 3]\nthree.all? { |x| x < 10 } # => true\n```\n\nNote that most search and filter methods traverse an Enumerable eagerly,\nproducing an `Array` as the result. For a lazy alternative refer to\nthe `Iterator` and `Iterable` modules.","summary":"<p>The <code><a href=\"Enumerable.html\">Enumerable</a></code> mixin provides collection classes with several traversal, searching, filtering and querying methods.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"mean-instance-method","html_id":"mean-instance-method","name":"mean","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/enumerable_stat_patches.cr#L7","def":{"name":"mean","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return self.sum / self.size.to_f"}},{"id":"stddev-instance-method","html_id":"stddev-instance-method","name":"stddev","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/enumerable_stat_patches.cr#L17","def":{"name":"stddev","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"return Math.sqrt(self.variance)"}},{"id":"sum-instance-method","html_id":"sum-instance-method","name":"sum","doc":"Adds all the elements in the collection together.\n\nOnly collections of numbers (objects that can be added via an `+` method)\nare supported.\n\n```\n[1, 2, 3, 4, 5, 6].sum # => 21\n```\n\nIf the collection is empty, returns `0`.\n\n```\n([] of Int32).sum # => 0\n```","summary":"<p>Adds all the elements in the collection together.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/enumerable_stat_patches.cr#L2","def":{"name":"sum","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if self.empty?\n  return 0\nend\nreturn self.reduce(&.+)\n"}},{"id":"variance-instance-method","html_id":"variance-instance-method","name":"variance","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/mikeroher/algo-backtest/blob/f026dbd0d6ff8b6db89de46214b613803cb47b7e/src/util/enumerable_stat_patches.cr#L11","def":{"name":"variance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"avg = self.mean\nmean_squares = self.map do |el|\n  (el - avg) ** 2\nend\nreturn mean_squares.reduce(&.+) / self.size\n"}}],"macros":[],"types":[]}]}})